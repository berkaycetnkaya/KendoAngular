{"ast":null,"code":"/**-----------------------------------------------------------------------------------------\n* Copyright © 2021 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Inject, Optional, EventEmitter, isDevMode, Component, Input, Output, ViewChild, TemplateRef, NgModule } from '@angular/core';\nimport { siblingContainer, parents, addScroll, align, boundingOffset, offset, positionWithScroll, removeScroll, restrictToView, scrollPosition, getWindowViewPort } from '@progress/kendo-popup-common';\nimport * as i7 from '@progress/kendo-angular-common';\nimport { isDocumentAvailable, hasObservers, ResizeSensorComponent, ResizeSensorModule } from '@progress/kendo-angular-common';\nimport { fromEvent, merge, from } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport * as i1 from '@angular/animations';\nimport { style, animate } from '@angular/animations';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport * as i8 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n/**\n * @hidden\n */\n\nconst _c0 = [\"container\"];\n\nfunction PopupComponent_ng_template_3_Template(rf, ctx) {}\n\nconst _c1 = [\"*\"];\n\nconst eitherRect = (rect, offset) => {\n  if (!rect) {\n    return {\n      height: 0,\n      left: offset.left,\n      top: offset.top,\n      width: 0\n    };\n  }\n\n  return rect;\n};\n/**\n * @hidden\n */\n\n\nconst replaceOffset = (rect, offset) => {\n  if (!offset) {\n    return rect;\n  }\n\n  const result = {\n    height: rect.height,\n    left: offset.left,\n    top: offset.top,\n    width: rect.width\n  };\n  return result;\n};\n/**\n * @hidden\n */\n\n\nconst removeStackingOffset = (rect, stackingOffset) => {\n  if (!stackingOffset) {\n    return rect;\n  }\n\n  const result = {\n    height: rect.height,\n    left: rect.left - stackingOffset.left,\n    top: rect.top - stackingOffset.top,\n    width: rect.width\n  };\n  return result;\n};\n/**\n * @hidden\n */\n\n\nconst isDifferentOffset = (oldOffset, newOffset) => {\n  const {\n    left: oldLeft,\n    top: oldTop\n  } = oldOffset;\n  const {\n    left: newLeft,\n    top: newTop\n  } = newOffset;\n  return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\n\n\nconst isWindowAvailable = () => {\n  return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\n\n\nconst hasBoundingRect = elem => !!elem.getBoundingClientRect;\n/**\n * @hidden\n */\n\n\nconst OVERFLOW_REGEXP = /auto|scroll/;\n\nconst overflowElementStyle = element => {\n  return `${element.style.overflow}${element.style.overflowX}${element.style.overflowY}`;\n};\n\nconst overflowComputedStyle = element => {\n  const styles = window.getComputedStyle(element);\n  return `${styles.overflow}${styles.overflowX}${styles.overflowY}`;\n};\n\nconst overflowStyle = element => {\n  return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\n\n\nconst scrollableParents = element => {\n  const parentElements = [];\n\n  if (!isDocumentAvailable() || !isWindowAvailable()) {\n    return parentElements;\n  }\n\n  let parent = element.parentElement;\n\n  while (parent) {\n    if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n      parentElements.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  parentElements.push(window);\n  return parentElements;\n};\n/**\n * @hidden\n */\n\n\nconst FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\n\nfunction memoize(fun) {\n  let result;\n  let called = false;\n  return (...args) => {\n    if (called) {\n      return result;\n    }\n\n    result = fun(...args);\n    called = true;\n    return result;\n  };\n}\n/**\n * @hidden\n */\n\n\nconst hasRelativeStackingContext = memoize(() => {\n  if (!isDocumentAvailable() && document.body !== null) {\n    return false;\n  }\n\n  const top = 10;\n  const parent = document.createElement(\"div\");\n  parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n  parent.innerHTML = `<div style=\"position: fixed; top: ${top}px;\">child</div>`;\n  document.body.appendChild(parent);\n  const isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n  document.body.removeChild(parent);\n  return isDifferent;\n});\n/**\n * @hidden\n */\n\nconst zIndex = (anchor, container) => {\n  if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n    return null;\n  }\n\n  const sibling = siblingContainer(anchor, container);\n\n  if (!sibling) {\n    return null;\n  }\n\n  const result = [anchor].concat(parents(anchor, sibling)).reduce((index, p) => {\n    const zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n    const current = parseInt(zIndexStyle, 10);\n    return current > index ? current : index;\n  }, 0);\n  return result ? result + 1 : null;\n};\n/**\n * @hidden\n */\n\n\nconst scaleRect = (rect, scale) => {\n  if (!rect || scale === 1) {\n    return rect;\n  }\n\n  return {\n    height: rect.height / scale,\n    left: rect.left / scale,\n    top: rect.top / scale,\n    width: rect.width / scale\n  };\n};\n/**\n * Used to set the document scale when using a [scale transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale).\n *\n * The document or container scale is required to compute the popup position correctly. Detecting the scale is not reliable and must be set by providing a value for SCALE. See [Support for Document Scale]({% slug documentscale_popup %}).\n *\n * > Using this token is not necessary for user-applied browser zoom.\n *\n * {% meta height:300 %}\n * {% embed_file scale/app.component.ts preview %}\n * {% embed_file shared/app.module.ts %}\n * {% embed_file shared/main.ts %}\n * {% endmeta %}\n *\n *\n */\n\n\nconst SCALE = new InjectionToken('Popup Document Scale');\nconst STYLES = ['font-size', 'font-family', 'font-stretch', 'font-style', 'font-weight', 'line-height'];\n/**\n * @hidden\n */\n\nclass DOMService {\n  addOffset(current, addition) {\n    return {\n      left: current.left + addition.left,\n      top: current.top + addition.top\n    };\n  }\n\n  addScroll(rect, scroll) {\n    return addScroll(rect, scroll);\n  }\n\n  align(settings) {\n    return align(settings);\n  }\n\n  boundingOffset(el) {\n    return boundingOffset(el);\n  }\n\n  getFontStyles(el) {\n    const window = this.getWindow();\n\n    if (!window || !el) {\n      return [];\n    }\n\n    const computedStyles = window.getComputedStyle(el);\n    return STYLES.map(font => ({\n      key: font,\n      value: computedStyles[font]\n    }));\n  }\n\n  getWindow() {\n    return isWindowAvailable() ? window : null;\n  }\n\n  hasOffsetParent(el) {\n    if (!el) {\n      return false;\n    }\n\n    return !!this.nativeElement(el).offsetParent;\n  }\n\n  offset(el) {\n    if (!el) {\n      return null;\n    }\n\n    return offset(el);\n  }\n\n  offsetAtPoint(el, currentLocation) {\n    if (!el) {\n      return null;\n    }\n\n    const element = this.nativeElement(el);\n    const {\n      left,\n      top,\n      transition\n    } = element.style;\n    element.style.transition = 'none';\n    element.style.left = `${currentLocation.left}px`;\n    element.style.top = `${currentLocation.top}px`;\n    const currentOffset = offset(element);\n    element.style.left = left;\n    element.style.top = top; // prevents elements with transition to be animated because of the change\n    // eslint-disable-next-line no-unused-expressions\n\n    element.offsetHeight;\n    element.style.transition = transition;\n    return currentOffset;\n  }\n\n  nativeElement(el) {\n    if (!el) {\n      return null;\n    }\n\n    return el.nativeElement || el;\n  }\n\n  position(element, popup, scale = 1) {\n    if (!element || !popup) {\n      return null;\n    }\n\n    return positionWithScroll(element, this.nativeElement(popup), scale);\n  }\n\n  removeScroll(rect, scroll) {\n    return removeScroll(rect, scroll);\n  }\n\n  restrictToView(settings) {\n    return restrictToView(settings);\n  }\n\n  scrollPosition(el) {\n    return scrollPosition(this.nativeElement(el));\n  }\n\n  scrollableParents(el) {\n    return scrollableParents(el);\n  }\n\n  stackingElementOffset(el) {\n    const relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return null;\n    }\n\n    return offset(relativeContextElement);\n  }\n\n  stackingElementScroll(el) {\n    const relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n\n    return {\n      x: relativeContextElement.scrollLeft,\n      y: relativeContextElement.scrollTop\n    };\n  }\n\n  getRelativeContextElement(el) {\n    if (!el || !hasRelativeStackingContext()) {\n      return null;\n    }\n\n    let parent = this.nativeElement(el).parentElement;\n\n    while (parent) {\n      if (window.getComputedStyle(parent).transform !== 'none') {\n        return parent;\n      }\n\n      parent = parent.parentElement;\n    }\n\n    return null;\n  }\n\n  useRelativePosition(el) {\n    return !!this.getRelativeContextElement(el);\n  }\n\n  windowViewPort(el) {\n    return getWindowViewPort(this.nativeElement(el));\n  }\n\n  zIndex(anchor, container) {\n    return zIndex(anchor, this.nativeElement(container));\n  }\n\n  zoomLevel() {\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n      return 1;\n    }\n\n    return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n  }\n\n  isZoomed() {\n    return this.zoomLevel() > 1;\n  }\n\n}\n\nDOMService.ɵfac = function DOMService_Factory(t) {\n  return new (t || DOMService)();\n};\n\nDOMService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: DOMService,\n  factory: DOMService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DOMService, [{\n    type: Injectable\n  }], null, null);\n})();\n/**\n * @hidden\n */\n\n\nclass AlignService {\n  constructor(_dom, scale = 1) {\n    this._dom = _dom;\n    this.scale = scale;\n  }\n\n  alignElement(settings) {\n    const {\n      anchor,\n      element,\n      anchorAlign,\n      elementAlign,\n      margin,\n      offset,\n      positionMode\n    } = settings;\n    const scale = this.scale || 1;\n    const fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n    const anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset, scale) : this.relativeRect(anchor, element, offset, scale);\n    const elementRect = scaleRect(this._dom.offset(element.nativeElement), scale);\n\n    const result = this._dom.align({\n      anchorAlign: anchorAlign,\n      anchorRect: anchorRect,\n      elementAlign: elementAlign,\n      elementRect: elementRect,\n      margin\n    });\n\n    return result;\n  }\n\n  absoluteRect(anchor, element, offset, scale) {\n    const scrollPos = this.elementScrollPosition(anchor, element);\n    const rect = eitherRect(this._dom.offset(anchor), offset);\n    const stackScale = 2 * scale;\n\n    const stackScroll = this._dom.stackingElementScroll(element);\n\n    if (scale !== 1 && stackScroll) {\n      stackScroll.x /= stackScale;\n      stackScroll.y /= stackScale;\n    }\n\n    const stackOffset = this._dom.stackingElementOffset(element);\n\n    if (scale !== 1 && stackOffset) {\n      stackOffset.left /= stackScale;\n      stackOffset.top /= stackScale;\n    }\n\n    return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(scaleRect(rect, scale), stackOffset), stackScroll), scrollPos);\n  }\n\n  elementScrollPosition(anchor, element) {\n    return anchor ? {\n      x: 0,\n      y: 0\n    } : this._dom.scrollPosition(element);\n  }\n\n  relativeRect(anchor, element, offset, scale) {\n    const rect = eitherRect(this._dom.position(anchor, element, scale), offset);\n    return scaleRect(rect, scale);\n  }\n\n}\n\nAlignService.ɵfac = function AlignService_Factory(t) {\n  return new (t || AlignService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(SCALE, 8));\n};\n\nAlignService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AlignService,\n  factory: AlignService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AlignService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SCALE]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nclass PositionService {\n  constructor(_dom, scale = 1) {\n    this._dom = _dom;\n    this.scale = scale;\n  }\n\n  positionElement(settings) {\n    const {\n      anchor,\n      currentLocation,\n      element,\n      anchorAlign,\n      elementAlign,\n      collisions,\n      margin\n    } = settings;\n    const dom = this._dom;\n    const scale = this.scale || 1;\n    const elementOffset = dom.offsetAtPoint(element, currentLocation);\n    const elementRect = scaleRect(elementOffset, scale);\n    const anchorOffset = scaleRect(dom.offset(anchor), scale);\n    const anchorRect = eitherRect(anchorOffset, currentLocation);\n    const viewPort = settings.viewPort || dom.windowViewPort(element);\n    viewPort.width = viewPort.width / scale;\n    viewPort.height = viewPort.height / scale;\n    const result = dom.restrictToView({\n      anchorAlign,\n      anchorRect,\n      collisions,\n      elementAlign,\n      elementRect,\n      margin,\n      viewPort\n    });\n    const offset = dom.addOffset(currentLocation, result.offset);\n    return {\n      flip: result.flip,\n      flipped: result.flipped,\n      offset: offset\n    };\n  }\n\n}\n\nPositionService.ɵfac = function PositionService_Factory(t) {\n  return new (t || PositionService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(SCALE, 8));\n};\n\nPositionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PositionService,\n  factory: PositionService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PositionService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SCALE]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nclass ResizeService {\n  constructor(_dom, _zone) {\n    this._dom = _dom;\n    this._zone = _zone;\n  }\n\n  subscribe(callback) {\n    if (!isDocumentAvailable()) {\n      return;\n    }\n\n    this._zone.runOutsideAngular(() => {\n      this.subscription = fromEvent(this._dom.getWindow(), \"resize\").pipe(auditTime(FRAME_DURATION)).subscribe(() => callback());\n    });\n  }\n\n  unsubscribe() {\n    if (!this.subscription) {\n      return;\n    }\n\n    this.subscription.unsubscribe();\n  }\n\n  isUnsubscribed() {\n    return this.subscription && this.subscription.closed;\n  }\n\n}\n\nResizeService.ɵfac = function ResizeService_Factory(t) {\n  return new (t || ResizeService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(i0.NgZone));\n};\n\nResizeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ResizeService,\n  factory: ResizeService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ResizeService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nconst THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\n\nclass ScrollableService {\n  constructor(_dom, _zone) {\n    this._dom = _dom;\n    this._zone = _zone;\n  }\n\n  forElement(element) {\n    this.unsubscribe();\n    this.element = element;\n    return this;\n  }\n\n  subscribe(callback) {\n    if (!callback || !isDocumentAvailable() || !this.element) {\n      return;\n    }\n\n    const parents = this._dom.scrollableParents(this.element);\n\n    this._zone.runOutsideAngular(() => {\n      const observables = parents.map(p => fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)));\n\n      const subscriber = e => {\n        const target = e.target;\n        const isParent = parents.filter(p => p === target).length > 0;\n        const isDocument = target === document;\n        const isWindow = target === window;\n\n        if (isParent || isDocument || isWindow) {\n          callback(this.isVisible(this.element, target));\n        }\n      };\n\n      this.subscription = merge(...observables).subscribe(subscriber);\n    });\n  }\n\n  unsubscribe() {\n    if (!this.subscription) {\n      return;\n    }\n\n    this.subscription.unsubscribe();\n  }\n\n  isVisible(elem, container) {\n    const elemRect = this._dom.boundingOffset(elem);\n\n    const containerRect = this._dom.boundingOffset(this._dom.nativeElement(container));\n\n    if (THRESHOLD_DIFF < containerRect.top - elemRect.bottom) {\n      return false;\n    }\n\n    if (THRESHOLD_DIFF < elemRect.top - containerRect.bottom) {\n      return false;\n    }\n\n    if (THRESHOLD_DIFF < elemRect.left - containerRect.right) {\n      return false;\n    }\n\n    if (THRESHOLD_DIFF < containerRect.left - elemRect.right) {\n      return false;\n    }\n\n    return true;\n  }\n\n}\n\nScrollableService.ɵfac = function ScrollableService_Factory(t) {\n  return new (t || ScrollableService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(i0.NgZone));\n};\n\nScrollableService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ScrollableService,\n  factory: ScrollableService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ScrollableService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\n\nconst LEFT = 'left';\nconst RIGHT = 'right';\nconst DOWN = 'down';\nconst UP = 'up';\nconst DEFAULT_TYPE = 'slide';\nconst DEFAULT_DURATION = 100;\nconst animationTypes = {};\n\nanimationTypes.expand = direction => {\n  const scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n  const startScale = 0;\n  const endScale = 1;\n  let origin;\n\n  if (direction === DOWN) {\n    origin = 'top';\n  } else if (direction === LEFT) {\n    origin = RIGHT;\n  } else if (direction === RIGHT) {\n    origin = LEFT;\n  } else {\n    origin = 'bottom';\n  }\n\n  return {\n    start: {\n      transform: `${scale}(${startScale})`,\n      transformOrigin: origin\n    },\n    end: {\n      transform: `${scale}(${endScale})`\n    }\n  };\n};\n\nanimationTypes.slide = direction => {\n  const translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n  const start = direction === RIGHT || direction === DOWN ? -100 : 100;\n  const end = 0;\n  return {\n    start: {\n      transform: `${translate}(${start}%)`\n    },\n    end: {\n      transform: `${translate}(${end}%)`\n    }\n  };\n};\n\nanimationTypes.fade = () => {\n  return {\n    start: {\n      opacity: 0\n    },\n    end: {\n      opacity: 1\n    }\n  };\n};\n\nanimationTypes.zoom = () => {\n  const start = 0;\n  const end = 1;\n  return {\n    start: {\n      transform: `scale(${start})`\n    },\n    end: {\n      transform: `scale(${end})`\n    }\n  };\n};\n/**\n * @hidden\n */\n\n\nclass AnimationService {\n  constructor(animationBuilder) {\n    this.animationBuilder = animationBuilder;\n    this.start = new EventEmitter();\n    this.end = new EventEmitter();\n  }\n\n  play(element, options, flip) {\n    if (!this.flip || this.flip.horizontal !== flip.horizontal || this.flip.vertical !== flip.vertical) {\n      this.flip = flip;\n      const type = options.type || DEFAULT_TYPE;\n      const statesFn = animationTypes[type];\n\n      if (statesFn) {\n        const direction = this.getDirection(flip, options);\n        const states = statesFn(direction);\n        this.playStates(element, states, options);\n      } else if (isDevMode()) {\n        throw new Error(`Unsupported animation type: \"${type}\". The supported types are slide, expand, fade and zoom.`);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.stopPlayer();\n  }\n\n  playStates(element, states, options) {\n    this.stopPlayer();\n    const duration = options.duration || DEFAULT_DURATION;\n    const factory = this.animationBuilder.build([style(states.start), animate(`${duration}ms ease-in`, style(states.end))]);\n    const player = this.player = factory.create(element);\n    player.onDone(() => {\n      this.end.emit();\n      this.stopPlayer();\n    });\n    this.start.emit();\n    player.play();\n  }\n\n  getDirection(flip, options) {\n    let direction = options.direction || DOWN;\n\n    if (flip.horizontal) {\n      if (direction === LEFT) {\n        direction = RIGHT;\n      } else if (direction === RIGHT) {\n        direction = LEFT;\n      }\n    }\n\n    if (flip.vertical) {\n      if (direction === DOWN) {\n        direction = UP;\n      } else if (direction === UP) {\n        direction = DOWN;\n      }\n    }\n\n    return direction;\n  }\n\n  stopPlayer() {\n    if (this.player) {\n      this.player.destroy();\n      this.player = null;\n    }\n  }\n\n}\n\nAnimationService.ɵfac = function AnimationService_Factory(t) {\n  return new (t || AnimationService)(i0.ɵɵinject(i1.AnimationBuilder));\n};\n\nAnimationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AnimationService,\n  factory: AnimationService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnimationService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.AnimationBuilder\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nconst packageMetadata = {\n  name: '@progress/kendo-angular-popup',\n  productName: 'Kendo UI for Angular',\n  productCodes: ['KENDOUIANGULAR', 'KENDOUICOMPLETE'],\n  publishDate: 1668698035,\n  version: '',\n  licensingDocsUrl: 'https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning'\n};\nconst DEFAULT_OFFSET = {\n  left: -10000,\n  top: 0\n};\nconst ANIMATION_CONTAINER = 'k-animation-container';\nconst ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\n\nclass PopupComponent {\n  constructor(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n    this.container = container;\n    this._alignService = _alignService;\n    this.domService = domService;\n    this._positionService = _positionService;\n    this._resizeService = _resizeService;\n    this._scrollableService = _scrollableService;\n    this.animationService = animationService;\n    this._renderer = _renderer;\n    this._zone = _zone;\n    /**\n     * Controls the Popup animation. By default, the opening and closing animations\n     * are enabled ([see example]({% slug animations_popup %})).\n     */\n\n    this.animate = true;\n    /**\n     * Specifies the anchor pivot point\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n     */\n\n    this.anchorAlign = {\n      horizontal: 'left',\n      vertical: 'bottom'\n    };\n    /**\n     * Configures the collision behavior of the Popup\n     * ([see example]({% slug viewportboundarydetection_popup %})).\n     */\n\n    this.collision = {\n      horizontal: 'fit',\n      vertical: 'flip'\n    };\n    /**\n     * Specifies the pivot point of the Popup\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n     */\n\n    this.popupAlign = {\n      horizontal: 'left',\n      vertical: 'top'\n    };\n    /**\n     * Controls whether the component will copy the `anchor` font styles.\n     */\n\n    this.copyAnchorStyles = false;\n    /**\n     * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n     * To make the Popup acquire absolute positioning, set this option to `absolute`.\n     *\n     * > If you need to support mobile browsers with the zoom option,\n     * use the `absolute` positioning of the Popup.\n     *\n     * @example\n     * ```html\n     * <style>\n     *  .parent-content {\n     *     position: relative;\n     *     width: 200px;\n     *     height: 200px;\n     *     overflow: auto;\n     *     margin: 200px auto;\n     *     border: 1px solid red;\n     *  }\n     *  .content {\n     *     position: relative;\n     *     width: 100px;\n     *     height: 100px;\n     *     overflow: auto;\n     *     margin: 300px;\n     *     border: 1px solid blue;\n     *  }\n     *  .anchor {\n     *     position: absolute;\n     *     top: 200px;\n     *     left: 200px;\n     *  }\n     * </style>\n     * ```\n     * ```ts\n     * _@Component({\n     * selector: 'my-app',\n     * template: `\n     *   <div class=\"example-config\">\n     *      Position mode:\n     *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n     *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n     *   </div>\n     *   <div class=\"example-config\">\n     *       Append to\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n     *           Root component\n     *       </label>\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n     *           <span style=\"color: red\">Red Container</span>\n     *       </label>\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n     *           <span style=\"color: blue\">Blue Container</span>\n     *       </label>\n     *   </div>\n     *   <div class=\"example\">\n     *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n     *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n     *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n     *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n     *             <ul>\n     *                 <li>Item1</li>\n     *                 <li>Item2</li>\n     *                 <li>Item3</li>\n     *             </ul>\n     *           </kendo-popup>\n     *           <span style=\"position: absolute; top: 400px; left: 400px\">Bottom/Right</span>\n     *         </div>\n     *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n     *           <ul>\n     *               <li>Item1</li>\n     *               <li>Item2</li>\n     *               <li>Item3</li>\n     *           </ul>\n     *         </kendo-popup>\n     *         <span style=\"position: absolute; top: 600px; left: 600px\">Bottom/Right</span>\n     *     </div>\n     *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n     *       <ul>\n     *           <li>Item1</li>\n     *           <li>Item2</li>\n     *           <li>Item3</li>\n     *       </ul>\n     *     </kendo-popup>\n     *   </div>\n     * `\n     * })\n     * class AppComponent {\n     *   public checked: number = 3;\n     *   public mode: string = 'absolute';\n     *   public show: boolean = true;\n     * }\n     * ```\n     */\n\n    this.positionMode = 'fixed';\n    /**\n     * Specifies the absolute position of the element\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n     * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n     * The boundary detection is applied by using the window viewport.\n     */\n\n    this.offset = DEFAULT_OFFSET;\n    /**\n     * Fires when the anchor is scrolled outside the screen boundaries.\n     * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n     */\n\n    this.anchorViewportLeave = new EventEmitter();\n    /**\n     * Fires after the component is closed.\n     */\n\n    this.close = new EventEmitter();\n    /**\n     * Fires after the component is opened and the opening animation ends.\n     */\n\n    this.open = new EventEmitter();\n    /**\n     * Fires after the component is opened and the Popup is positioned.\n     */\n\n    this.positionChange = new EventEmitter();\n    this.resolvedPromise = Promise.resolve(null);\n    this.initialCheck = true;\n    validatePackage(packageMetadata);\n\n    this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n\n    this.updateFixedClass();\n  }\n\n  ngOnInit() {\n    this.reposition = this.reposition.bind(this);\n\n    this._resizeService.subscribe(this.reposition);\n\n    this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n    this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n\n    this._scrollableService.forElement(this.domService.nativeElement(this.anchor) || this.container.nativeElement).subscribe(this.onScroll.bind(this));\n\n    this.currentOffset = DEFAULT_OFFSET;\n    this.setZIndex();\n    this.copyFontStyles();\n    this.updateFixedClass();\n    this.reposition();\n  }\n\n  ngOnChanges(changes) {\n    if (changes.copyAnchorStyles) {\n      this.copyFontStyles();\n    }\n\n    if (changes.positionMode) {\n      this.updateFixedClass();\n    }\n  }\n\n  ngAfterViewInit() {\n    if (!this.animate) {\n      this.resolvedPromise.then(() => {\n        this.onAnimationEnd();\n      });\n    }\n  }\n\n  ngAfterViewChecked() {\n    if (this.initialCheck) {\n      this.initialCheck = false;\n      return;\n    }\n\n    this._zone.runOutsideAngular(() => {\n      // workarounds https://github.com/angular/angular/issues/19094\n      // uses promise because it is executed synchronously after the content is updated\n      // does not use onStable in case the current zone is not the angular one.\n      this.unsubscribeReposition();\n      this.repositionSubscription = from(this.resolvedPromise).subscribe(this.reposition);\n    });\n  }\n\n  ngOnDestroy() {\n    this.anchorViewportLeave.complete();\n    this.positionChange.complete();\n    this.close.emit();\n    this.close.complete();\n\n    this._resizeService.unsubscribe();\n\n    this._scrollableService.unsubscribe();\n\n    this.animationSubscriptions.unsubscribe();\n    this.unsubscribeReposition();\n  }\n  /**\n   * @hidden\n   */\n\n\n  onResize() {\n    this.reposition();\n  }\n\n  onAnimationStart() {\n    this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n  }\n\n  onAnimationEnd() {\n    this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n\n    this.open.emit();\n    this.open.complete();\n  }\n\n  get currentOffset() {\n    return this._currentOffset;\n  }\n\n  set currentOffset(offset) {\n    this.setContainerStyle('left', `${offset.left}px`);\n    this.setContainerStyle('top', `${offset.top}px`);\n    this._currentOffset = offset;\n  }\n\n  setZIndex() {\n    if (this.anchor) {\n      this.setContainerStyle('z-index', String(this.domService.zIndex(this.domService.nativeElement(this.anchor), this.container)));\n    }\n  }\n\n  reposition() {\n    if (!isDocumentAvailable()) {\n      return;\n    }\n\n    const {\n      flip,\n      offset\n    } = this.position();\n\n    if (!this.currentOffset || isDifferentOffset(this.currentOffset, offset)) {\n      this.currentOffset = offset;\n\n      if (hasObservers(this.positionChange)) {\n        this._zone.run(() => this.positionChange.emit({\n          offset,\n          flip\n        }));\n      }\n    }\n\n    if (this.animate) {\n      this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n    }\n\n    this.resizeSensor.acceptSize();\n  }\n\n  position() {\n    const alignedOffset = this._alignService.alignElement({\n      anchor: this.domService.nativeElement(this.anchor),\n      anchorAlign: this.anchorAlign,\n      element: this.container,\n      elementAlign: this.popupAlign,\n      margin: this.margin,\n      offset: this.offset,\n      positionMode: this.positionMode\n    });\n\n    return this._positionService.positionElement({\n      anchor: this.domService.nativeElement(this.anchor),\n      anchorAlign: this.anchorAlign,\n      collisions: this.collision,\n      currentLocation: alignedOffset,\n      element: this.container,\n      elementAlign: this.popupAlign,\n      margin: this.margin\n    });\n  }\n\n  onScroll(isInViewPort) {\n    const hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n\n    if (isInViewPort || !hasLeaveObservers) {\n      this.reposition();\n    } else if (hasLeaveObservers) {\n      this._zone.run(() => {\n        this.anchorViewportLeave.emit();\n      });\n    }\n  }\n\n  copyFontStyles() {\n    if (!this.anchor || !this.copyAnchorStyles) {\n      return;\n    }\n\n    this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(s => this.setContainerStyle(s.key, s.value));\n  }\n\n  updateFixedClass() {\n    const action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n\n    this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n  }\n\n  setContainerStyle(name, value) {\n    this._renderer.setStyle(this.container.nativeElement, name, value);\n  }\n\n  unsubscribeReposition() {\n    if (this.repositionSubscription) {\n      this.repositionSubscription.unsubscribe();\n    }\n  }\n\n}\n\nPopupComponent.ɵfac = function PopupComponent_Factory(t) {\n  return new (t || PopupComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(AlignService), i0.ɵɵdirectiveInject(DOMService), i0.ɵɵdirectiveInject(PositionService), i0.ɵɵdirectiveInject(ResizeService), i0.ɵɵdirectiveInject(ScrollableService), i0.ɵɵdirectiveInject(AnimationService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.NgZone));\n};\n\nPopupComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PopupComponent,\n  selectors: [[\"kendo-popup\"]],\n  viewQuery: function PopupComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(ResizeSensorComponent, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.contentContainer = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resizeSensor = _t.first);\n    }\n  },\n  inputs: {\n    animate: \"animate\",\n    anchor: \"anchor\",\n    anchorAlign: \"anchorAlign\",\n    collision: \"collision\",\n    popupAlign: \"popupAlign\",\n    copyAnchorStyles: \"copyAnchorStyles\",\n    popupClass: \"popupClass\",\n    positionMode: \"positionMode\",\n    offset: \"offset\",\n    margin: \"margin\"\n  },\n  outputs: {\n    anchorViewportLeave: \"anchorViewportLeave\",\n    close: \"close\",\n    open: \"open\",\n    positionChange: \"positionChange\"\n  },\n  exportAs: [\"kendo-popup\"],\n  features: [i0.ɵɵProvidersFeature([AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService]), i0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 5,\n  vars: 4,\n  consts: [[1, \"k-popup\", 3, \"ngClass\"], [\"container\", \"\"], [3, \"ngTemplateOutlet\", \"ngIf\"], [3, \"rateLimit\", \"resize\"]],\n  template: function PopupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0, 1);\n      i0.ɵɵprojection(2);\n      i0.ɵɵtemplate(3, PopupComponent_ng_template_3_Template, 0, 0, \"ng-template\", 2);\n      i0.ɵɵelementStart(4, \"kendo-resize-sensor\", 3);\n      i0.ɵɵlistener(\"resize\", function PopupComponent_Template_kendo_resize_sensor_resize_4_listener() {\n        return ctx.onResize();\n      });\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", ctx.popupClass);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.content)(\"ngIf\", ctx.content);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"rateLimit\", 100);\n    }\n  },\n  dependencies: [i7.ResizeSensorComponent, i8.NgClass, i8.NgTemplateOutlet, i8.NgIf],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupComponent, [{\n    type: Component,\n    args: [{\n      exportAs: 'kendo-popup',\n      providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n      selector: 'kendo-popup',\n      template: `\n        <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n            <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n            </kendo-resize-sensor>\n        </div>\n     `\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: AlignService\n    }, {\n      type: DOMService\n    }, {\n      type: PositionService\n    }, {\n      type: ResizeService\n    }, {\n      type: ScrollableService\n    }, {\n      type: AnimationService\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    animate: [{\n      type: Input\n    }],\n    anchor: [{\n      type: Input\n    }],\n    anchorAlign: [{\n      type: Input\n    }],\n    collision: [{\n      type: Input\n    }],\n    popupAlign: [{\n      type: Input\n    }],\n    copyAnchorStyles: [{\n      type: Input\n    }],\n    popupClass: [{\n      type: Input\n    }],\n    positionMode: [{\n      type: Input\n    }],\n    offset: [{\n      type: Input\n    }],\n    margin: [{\n      type: Input\n    }],\n    anchorViewportLeave: [{\n      type: Output\n    }],\n    close: [{\n      type: Output\n    }],\n    open: [{\n      type: Output\n    }],\n    positionChange: [{\n      type: Output\n    }],\n    contentContainer: [{\n      type: ViewChild,\n      args: ['container', {\n        static: true\n      }]\n    }],\n    resizeSensor: [{\n      type: ViewChild,\n      args: [ResizeSensorComponent, {\n        static: true\n      }]\n    }]\n  });\n})();\n\nconst removeElement = element => {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\n\n\nconst POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\n\nclass PopupService {\n  constructor(applicationRef, componentFactoryResolver, injector, container) {\n    this.applicationRef = applicationRef;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.injector = injector;\n    this.container = container;\n  }\n  /**\n   * Gets the root view container into which the component will be injected.\n   *\n   * @returns {ComponentRef<any>}\n   */\n\n\n  get rootViewContainer() {\n    // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n    const rootComponents = this.applicationRef.components || [];\n\n    if (rootComponents[0]) {\n      return rootComponents[0];\n    }\n\n    throw new Error(`\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        `);\n  }\n  /**\n   * Sets or gets the HTML element of the root component container.\n   *\n   * @returns {HTMLElement}\n   */\n\n\n  get rootViewContainerNode() {\n    return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n  }\n  /**\n   * Opens a Popup component. Created Popups are mounted\n   * in the DOM directly in the root application component.\n   *\n   * @param {PopupSettings} options - The options which define the Popup.\n   * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n   *\n   * @example\n   *\n   * ```ts-no-run\n   * _@Component({\n   *   selector: 'my-app',\n   *   template: `\n   *     <ng-template #template>\n   *      Popup content\n   *     </ng-template>\n   *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n   *   `\n   * })\n   * export class AppComponent {\n   *     public popupRef: PopupRef;\n   *\n   *     constructor( private popupService: PopupService ) {}\n   *\n   *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n   *         if (this.popupRef) {\n   *              this.popupRef.close();\n   *              this.popupRef = null;\n   *              return;\n   *         }\n   *\n   *         this.popupRef = this.popupService.open({\n   *           anchor: anchor,\n   *           content: template\n   *         });\n   *     }\n   * }\n   * ```\n   */\n\n\n  open(options = {}) {\n    const {\n      component,\n      nodes\n    } = this.contentFrom(options.content);\n    const popupComponentRef = this.appendPopup(nodes, options.appendTo);\n    const popupInstance = popupComponentRef.instance;\n    this.projectComponentInputs(popupComponentRef, options);\n    popupComponentRef.changeDetectorRef.detectChanges();\n\n    if (component) {\n      component.changeDetectorRef.detectChanges();\n    }\n\n    const popupElement = this.getComponentRootNode(popupComponentRef);\n    return {\n      close: () => {\n        if (component) {\n          component.destroy();\n        }\n\n        popupComponentRef.destroy(); // Angular will not remove the element unless the change detection is triggered\n\n        removeElement(popupElement);\n      },\n      content: component,\n      popup: popupComponentRef,\n      popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n      popupClose: popupInstance.close,\n      popupElement: popupElement,\n      popupOpen: popupInstance.open,\n      popupPositionChange: popupInstance.positionChange\n    };\n  }\n\n  appendPopup(nodes, container) {\n    const popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n\n    if (!container) {\n      this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n    }\n\n    return popupComponentRef;\n  }\n  /**\n   * Gets the HTML element for a component reference.\n   *\n   * @param {ComponentRef<any>} componentRef\n   * @returns {HTMLElement}\n   */\n\n\n  getComponentRootNode(componentRef) {\n    return componentRef.location.nativeElement;\n  }\n  /**\n   * Gets the `ComponentFactory` instance by its type.\n   *\n   * @param {*} componentClass\n   * @param {*} nodes\n   * @returns {ComponentRef<any>}\n   */\n\n\n  getComponentFactory(componentClass) {\n    return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n  }\n  /**\n   * Creates a component reference from a `Component` type class.\n   *\n   * @param {*} componentClass\n   * @param {*} nodes\n   * @returns {ComponentRef<any>}\n   */\n\n\n  createComponent(componentClass, nodes, container) {\n    const factory = this.getComponentFactory(componentClass);\n\n    if (container) {\n      return container.createComponent(factory, undefined, this.injector, nodes);\n    } else {\n      const component = factory.create(this.injector, nodes);\n      this.applicationRef.attachView(component.hostView);\n      return component;\n    }\n  }\n  /**\n   * Projects the inputs on the component.\n   *\n   * @param {ComponentRef<any>} component\n   * @param {*} options\n   * @returns {ComponentRef<any>}\n   */\n\n\n  projectComponentInputs(component, options) {\n    Object.getOwnPropertyNames(options).filter(prop => prop !== 'content' || options.content instanceof TemplateRef).map(prop => {\n      component.instance[prop] = options[prop];\n    });\n    return component;\n  }\n  /**\n   * Gets the component and the nodes to append from the `content` option.\n   *\n   * @param {*} content\n   * @returns {any}\n   */\n\n\n  contentFrom(content) {\n    if (!content || content instanceof TemplateRef) {\n      return {\n        component: null,\n        nodes: [[]]\n      };\n    }\n\n    const component = this.createComponent(content);\n    const nodes = component ? [component.location.nativeElement] : [];\n    return {\n      component: component,\n      nodes: [nodes // <ng-content>\n      ]\n    };\n  }\n\n}\n\nPopupService.ɵfac = function PopupService_Factory(t) {\n  return new (t || PopupService)(i0.ɵɵinject(i0.ApplicationRef), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(POPUP_CONTAINER, 8));\n};\n\nPopupService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PopupService,\n  factory: PopupService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i0.ApplicationRef\n    }, {\n      type: i0.ComponentFactoryResolver\n    }, {\n      type: i0.Injector\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [POPUP_CONTAINER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nconst POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule](link:site.data.urls.angular['ngmoduleapi'])\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\n\nclass PopupModule {}\n\nPopupModule.ɵfac = function PopupModule_Factory(t) {\n  return new (t || PopupModule)();\n};\n\nPopupModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: PopupModule\n});\nPopupModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [PopupService],\n  imports: [[CommonModule, ResizeSensorModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [POPUP_DIRECTIVES],\n      entryComponents: [POPUP_DIRECTIVES],\n      exports: [POPUP_DIRECTIVES],\n      imports: [CommonModule, ResizeSensorModule],\n      providers: [PopupService]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { POPUP_CONTAINER, PopupComponent, PopupModule, PopupService, SCALE };","map":{"version":3,"names":["i0","InjectionToken","Injectable","Inject","Optional","EventEmitter","isDevMode","Component","Input","Output","ViewChild","TemplateRef","NgModule","siblingContainer","parents","addScroll","align","boundingOffset","offset","positionWithScroll","removeScroll","restrictToView","scrollPosition","getWindowViewPort","i7","isDocumentAvailable","hasObservers","ResizeSensorComponent","ResizeSensorModule","fromEvent","merge","from","auditTime","i1","style","animate","validatePackage","i8","CommonModule","eitherRect","rect","height","left","top","width","replaceOffset","result","removeStackingOffset","stackingOffset","isDifferentOffset","oldOffset","newOffset","oldLeft","oldTop","newLeft","newTop","Math","abs","isWindowAvailable","window","hasBoundingRect","elem","getBoundingClientRect","OVERFLOW_REGEXP","overflowElementStyle","element","overflow","overflowX","overflowY","overflowComputedStyle","styles","getComputedStyle","overflowStyle","scrollableParents","parentElements","parent","parentElement","test","hasAttribute","push","FRAME_DURATION","memoize","fun","called","args","hasRelativeStackingContext","document","body","createElement","transform","innerHTML","appendChild","isDifferent","children","removeChild","zIndex","anchor","container","sibling","concat","reduce","index","p","zIndexStyle","current","parseInt","scaleRect","scale","SCALE","STYLES","DOMService","addOffset","addition","scroll","settings","el","getFontStyles","getWindow","computedStyles","map","font","key","value","hasOffsetParent","nativeElement","offsetParent","offsetAtPoint","currentLocation","transition","currentOffset","offsetHeight","position","popup","stackingElementOffset","relativeContextElement","getRelativeContextElement","stackingElementScroll","x","y","scrollLeft","scrollTop","useRelativePosition","windowViewPort","zoomLevel","parseFloat","documentElement","clientWidth","innerWidth","toFixed","isZoomed","ɵfac","ɵprov","type","AlignService","constructor","_dom","alignElement","anchorAlign","elementAlign","margin","positionMode","fixedMode","anchorRect","absoluteRect","relativeRect","elementRect","scrollPos","elementScrollPosition","stackScale","stackScroll","stackOffset","undefined","decorators","PositionService","positionElement","collisions","dom","elementOffset","anchorOffset","viewPort","flip","flipped","ResizeService","_zone","subscribe","callback","runOutsideAngular","subscription","pipe","unsubscribe","isUnsubscribed","closed","NgZone","THRESHOLD_DIFF","ScrollableService","forElement","observables","subscriber","e","target","isParent","filter","length","isDocument","isWindow","isVisible","elemRect","containerRect","bottom","right","LEFT","RIGHT","DOWN","UP","DEFAULT_TYPE","DEFAULT_DURATION","animationTypes","expand","direction","startScale","endScale","origin","start","transformOrigin","end","slide","translate","fade","opacity","zoom","AnimationService","animationBuilder","play","options","horizontal","vertical","statesFn","getDirection","states","playStates","Error","ngOnDestroy","stopPlayer","duration","factory","build","player","create","onDone","emit","destroy","AnimationBuilder","packageMetadata","name","productName","productCodes","publishDate","version","licensingDocsUrl","DEFAULT_OFFSET","ANIMATION_CONTAINER","ANIMATION_CONTAINER_FIXED","PopupComponent","_alignService","domService","_positionService","_resizeService","_scrollableService","animationService","_renderer","collision","popupAlign","copyAnchorStyles","anchorViewportLeave","close","open","positionChange","resolvedPromise","Promise","resolve","initialCheck","addClass","updateFixedClass","ngOnInit","reposition","bind","animationSubscriptions","onAnimationStart","add","onAnimationEnd","onScroll","setZIndex","copyFontStyles","ngOnChanges","changes","ngAfterViewInit","then","ngAfterViewChecked","unsubscribeReposition","repositionSubscription","complete","onResize","removeClass","_currentOffset","setContainerStyle","String","run","contentContainer","resizeSensor","acceptSize","alignedOffset","isInViewPort","hasLeaveObservers","forEach","s","action","setStyle","ElementRef","Renderer2","ɵcmp","NgClass","NgTemplateOutlet","NgIf","exportAs","providers","selector","template","popupClass","static","removeElement","parentNode","POPUP_CONTAINER","PopupService","applicationRef","componentFactoryResolver","injector","rootViewContainer","rootComponents","components","rootViewContainerNode","getComponentRootNode","component","nodes","contentFrom","content","popupComponentRef","appendPopup","appendTo","popupInstance","instance","projectComponentInputs","changeDetectorRef","detectChanges","popupElement","popupAnchorViewportLeave","popupClose","popupOpen","popupPositionChange","createComponent","componentRef","location","getComponentFactory","componentClass","resolveComponentFactory","attachView","hostView","Object","getOwnPropertyNames","prop","ApplicationRef","ComponentFactoryResolver","Injector","POPUP_DIRECTIVES","PopupModule","ɵmod","ɵinj","declarations","entryComponents","exports","imports"],"sources":["C:/eğitim/KendoRPS/rpstrackerng/node_modules/@progress/kendo-angular-popup/fesm2015/kendo-angular-popup.js"],"sourcesContent":["/**-----------------------------------------------------------------------------------------\n* Copyright © 2021 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Inject, Optional, EventEmitter, isDevMode, Component, Input, Output, ViewChild, TemplateRef, NgModule } from '@angular/core';\nimport { siblingContainer, parents, addScroll, align, boundingOffset, offset, positionWithScroll, removeScroll, restrictToView, scrollPosition, getWindowViewPort } from '@progress/kendo-popup-common';\nimport * as i7 from '@progress/kendo-angular-common';\nimport { isDocumentAvailable, hasObservers, ResizeSensorComponent, ResizeSensorModule } from '@progress/kendo-angular-common';\nimport { fromEvent, merge, from } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport * as i1 from '@angular/animations';\nimport { style, animate } from '@angular/animations';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport * as i8 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @hidden\n */\nconst eitherRect = (rect, offset) => {\n    if (!rect) {\n        return { height: 0, left: offset.left, top: offset.top, width: 0 };\n    }\n    return rect;\n};\n/**\n * @hidden\n */\nconst replaceOffset = (rect, offset) => {\n    if (!offset) {\n        return rect;\n    }\n    const result = {\n        height: rect.height,\n        left: offset.left,\n        top: offset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nconst removeStackingOffset = (rect, stackingOffset) => {\n    if (!stackingOffset) {\n        return rect;\n    }\n    const result = {\n        height: rect.height,\n        left: rect.left - stackingOffset.left,\n        top: rect.top - stackingOffset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nconst isDifferentOffset = (oldOffset, newOffset) => {\n    const { left: oldLeft, top: oldTop } = oldOffset;\n    const { left: newLeft, top: newTop } = newOffset;\n    return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\nconst isWindowAvailable = () => {\n    return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\nconst hasBoundingRect = (elem) => !!elem.getBoundingClientRect;\n/**\n * @hidden\n */\nconst OVERFLOW_REGEXP = /auto|scroll/;\nconst overflowElementStyle = (element) => {\n    return `${element.style.overflow}${element.style.overflowX}${element.style.overflowY}`;\n};\nconst overflowComputedStyle = (element) => {\n    const styles = window.getComputedStyle(element);\n    return `${styles.overflow}${styles.overflowX}${styles.overflowY}`;\n};\nconst overflowStyle = (element) => {\n    return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\nconst scrollableParents = (element) => {\n    const parentElements = [];\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n        return parentElements;\n    }\n    let parent = element.parentElement;\n    while (parent) {\n        if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n            parentElements.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    parentElements.push(window);\n    return parentElements;\n};\n/**\n * @hidden\n */\nconst FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\nfunction memoize(fun) {\n    let result;\n    let called = false;\n    return (...args) => {\n        if (called) {\n            return result;\n        }\n        result = fun(...args);\n        called = true;\n        return result;\n    };\n}\n/**\n * @hidden\n */\nconst hasRelativeStackingContext = memoize(() => {\n    if (!isDocumentAvailable() && document.body !== null) {\n        return false;\n    }\n    const top = 10;\n    const parent = document.createElement(\"div\");\n    parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n    parent.innerHTML = `<div style=\"position: fixed; top: ${top}px;\">child</div>`;\n    document.body.appendChild(parent);\n    const isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n    document.body.removeChild(parent);\n    return isDifferent;\n});\n/**\n * @hidden\n */\nconst zIndex = (anchor, container) => {\n    if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n        return null;\n    }\n    const sibling = siblingContainer(anchor, container);\n    if (!sibling) {\n        return null;\n    }\n    const result = [anchor].concat(parents(anchor, sibling)).reduce((index, p) => {\n        const zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n        const current = parseInt(zIndexStyle, 10);\n        return current > index ? current : index;\n    }, 0);\n    return result ? (result + 1) : null;\n};\n/**\n * @hidden\n */\nconst scaleRect = (rect, scale) => {\n    if (!rect || scale === 1) {\n        return rect;\n    }\n    return {\n        height: rect.height / scale,\n        left: rect.left / scale,\n        top: rect.top / scale,\n        width: rect.width / scale\n    };\n};\n\n/**\n * Used to set the document scale when using a [scale transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale).\n *\n * The document or container scale is required to compute the popup position correctly. Detecting the scale is not reliable and must be set by providing a value for SCALE. See [Support for Document Scale]({% slug documentscale_popup %}).\n *\n * > Using this token is not necessary for user-applied browser zoom.\n *\n * {% meta height:300 %}\n * {% embed_file scale/app.component.ts preview %}\n * {% embed_file shared/app.module.ts %}\n * {% embed_file shared/main.ts %}\n * {% endmeta %}\n *\n *\n */\nconst SCALE = new InjectionToken('Popup Document Scale');\n\nconst STYLES = [\n    'font-size',\n    'font-family',\n    'font-stretch',\n    'font-style',\n    'font-weight',\n    'line-height'\n];\n/**\n * @hidden\n */\nclass DOMService {\n    addOffset(current, addition) {\n        return {\n            left: current.left + addition.left,\n            top: current.top + addition.top\n        };\n    }\n    addScroll(rect, scroll) {\n        return addScroll(rect, scroll);\n    }\n    align(settings) {\n        return align(settings);\n    }\n    boundingOffset(el) {\n        return boundingOffset(el);\n    }\n    getFontStyles(el) {\n        const window = this.getWindow();\n        if (!window || !el) {\n            return [];\n        }\n        const computedStyles = window.getComputedStyle(el);\n        return STYLES.map(font => ({ key: font, value: computedStyles[font] }));\n    }\n    getWindow() {\n        return isWindowAvailable() ? window : null;\n    }\n    hasOffsetParent(el) {\n        if (!el) {\n            return false;\n        }\n        return !!this.nativeElement(el).offsetParent;\n    }\n    offset(el) {\n        if (!el) {\n            return null;\n        }\n        return offset(el);\n    }\n    offsetAtPoint(el, currentLocation) {\n        if (!el) {\n            return null;\n        }\n        const element = this.nativeElement(el);\n        const { left, top, transition } = element.style;\n        element.style.transition = 'none';\n        element.style.left = `${currentLocation.left}px`;\n        element.style.top = `${currentLocation.top}px`;\n        const currentOffset = offset(element);\n        element.style.left = left;\n        element.style.top = top;\n        // prevents elements with transition to be animated because of the change\n        // eslint-disable-next-line no-unused-expressions\n        element.offsetHeight;\n        element.style.transition = transition;\n        return currentOffset;\n    }\n    nativeElement(el) {\n        if (!el) {\n            return null;\n        }\n        return el.nativeElement || el;\n    }\n    position(element, popup, scale = 1) {\n        if (!element || !popup) {\n            return null;\n        }\n        return positionWithScroll(element, this.nativeElement(popup), scale);\n    }\n    removeScroll(rect, scroll) {\n        return removeScroll(rect, scroll);\n    }\n    restrictToView(settings) {\n        return restrictToView(settings);\n    }\n    scrollPosition(el) {\n        return scrollPosition(this.nativeElement(el));\n    }\n    scrollableParents(el) {\n        return scrollableParents(el);\n    }\n    stackingElementOffset(el) {\n        const relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return offset(relativeContextElement);\n    }\n    stackingElementScroll(el) {\n        const relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return { x: 0, y: 0 };\n        }\n        return {\n            x: relativeContextElement.scrollLeft,\n            y: relativeContextElement.scrollTop\n        };\n    }\n    getRelativeContextElement(el) {\n        if (!el || !hasRelativeStackingContext()) {\n            return null;\n        }\n        let parent = this.nativeElement(el).parentElement;\n        while (parent) {\n            if (window.getComputedStyle(parent).transform !== 'none') {\n                return parent;\n            }\n            parent = parent.parentElement;\n        }\n        return null;\n    }\n    useRelativePosition(el) {\n        return !!this.getRelativeContextElement(el);\n    }\n    windowViewPort(el) {\n        return getWindowViewPort(this.nativeElement(el));\n    }\n    zIndex(anchor, container) {\n        return zIndex(anchor, this.nativeElement(container));\n    }\n    zoomLevel() {\n        if (!isDocumentAvailable() || !isWindowAvailable()) {\n            return 1;\n        }\n        return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n    }\n    isZoomed() {\n        return this.zoomLevel() > 1;\n    }\n}\nDOMService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DOMService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nDOMService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DOMService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DOMService, decorators: [{\n            type: Injectable\n        }] });\n\n/**\n * @hidden\n */\nclass AlignService {\n    constructor(_dom, scale = 1) {\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    alignElement(settings) {\n        const { anchor, element, anchorAlign, elementAlign, margin, offset, positionMode } = settings;\n        const scale = this.scale || 1;\n        const fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n        const anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset, scale) : this.relativeRect(anchor, element, offset, scale);\n        const elementRect = scaleRect(this._dom.offset(element.nativeElement), scale);\n        const result = this._dom.align({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            elementAlign: elementAlign,\n            elementRect: elementRect,\n            margin\n        });\n        return result;\n    }\n    absoluteRect(anchor, element, offset, scale) {\n        const scrollPos = this.elementScrollPosition(anchor, element);\n        const rect = eitherRect(this._dom.offset(anchor), offset);\n        const stackScale = 2 * scale;\n        const stackScroll = this._dom.stackingElementScroll(element);\n        if (scale !== 1 && stackScroll) {\n            stackScroll.x /= stackScale;\n            stackScroll.y /= stackScale;\n        }\n        const stackOffset = this._dom.stackingElementOffset(element);\n        if (scale !== 1 && stackOffset) {\n            stackOffset.left /= stackScale;\n            stackOffset.top /= stackScale;\n        }\n        return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(scaleRect(rect, scale), stackOffset), stackScroll), scrollPos);\n    }\n    elementScrollPosition(anchor, element) {\n        return anchor ? { x: 0, y: 0 } : this._dom.scrollPosition(element);\n    }\n    relativeRect(anchor, element, offset, scale) {\n        const rect = eitherRect(this._dom.position(anchor, element, scale), offset);\n        return scaleRect(rect, scale);\n    }\n}\nAlignService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AlignService, deps: [{ token: DOMService }, { token: SCALE, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nAlignService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AlignService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AlignService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SCALE]\n                }, {\n                    type: Optional\n                }] }]; } });\n\n/**\n * @hidden\n */\nclass PositionService {\n    constructor(_dom, scale = 1) {\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    positionElement(settings) {\n        const { anchor, currentLocation, element, anchorAlign, elementAlign, collisions, margin } = settings;\n        const dom = this._dom;\n        const scale = this.scale || 1;\n        const elementOffset = dom.offsetAtPoint(element, currentLocation);\n        const elementRect = scaleRect(elementOffset, scale);\n        const anchorOffset = scaleRect(dom.offset(anchor), scale);\n        const anchorRect = eitherRect(anchorOffset, currentLocation);\n        const viewPort = settings.viewPort || dom.windowViewPort(element);\n        viewPort.width = viewPort.width / scale;\n        viewPort.height = viewPort.height / scale;\n        const result = dom.restrictToView({\n            anchorAlign,\n            anchorRect,\n            collisions,\n            elementAlign,\n            elementRect,\n            margin,\n            viewPort\n        });\n        const offset = dom.addOffset(currentLocation, result.offset);\n        return {\n            flip: result.flip,\n            flipped: result.flipped,\n            offset: offset\n        };\n    }\n}\nPositionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PositionService, deps: [{ token: DOMService }, { token: SCALE, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPositionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PositionService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PositionService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SCALE]\n                }, {\n                    type: Optional\n                }] }]; } });\n\n/**\n * @hidden\n */\nclass ResizeService {\n    constructor(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    subscribe(callback) {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this._zone.runOutsideAngular(() => {\n            this.subscription = fromEvent(this._dom.getWindow(), \"resize\")\n                .pipe(auditTime(FRAME_DURATION))\n                .subscribe(() => callback());\n        });\n    }\n    unsubscribe() {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    }\n    isUnsubscribed() {\n        return this.subscription && this.subscription.closed;\n    }\n}\nResizeService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ResizeService, deps: [{ token: DOMService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\nResizeService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ResizeService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ResizeService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: i0.NgZone }]; } });\n\n/**\n * @hidden\n */\nconst THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\nclass ScrollableService {\n    constructor(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    forElement(element) {\n        this.unsubscribe();\n        this.element = element;\n        return this;\n    }\n    subscribe(callback) {\n        if (!callback || !isDocumentAvailable() || !this.element) {\n            return;\n        }\n        const parents = this._dom.scrollableParents(this.element);\n        this._zone.runOutsideAngular(() => {\n            const observables = parents.map(p => fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)));\n            const subscriber = (e) => {\n                const target = e.target;\n                const isParent = parents.filter(p => p === target).length > 0;\n                const isDocument = target === document;\n                const isWindow = target === window;\n                if (isParent || isDocument || isWindow) {\n                    callback(this.isVisible(this.element, target));\n                }\n            };\n            this.subscription = merge(...observables).subscribe(subscriber);\n        });\n    }\n    unsubscribe() {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    }\n    isVisible(elem, container) {\n        const elemRect = this._dom.boundingOffset(elem);\n        const containerRect = this._dom.boundingOffset(this._dom.nativeElement(container));\n        if (THRESHOLD_DIFF < (containerRect.top - elemRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.top - containerRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.left - containerRect.right)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (containerRect.left - elemRect.right)) {\n            return false;\n        }\n        return true;\n    }\n}\nScrollableService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ScrollableService, deps: [{ token: DOMService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\nScrollableService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ScrollableService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ScrollableService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: i0.NgZone }]; } });\n\nconst LEFT = 'left';\nconst RIGHT = 'right';\nconst DOWN = 'down';\nconst UP = 'up';\nconst DEFAULT_TYPE = 'slide';\nconst DEFAULT_DURATION = 100;\nconst animationTypes = {};\nanimationTypes.expand = (direction) => {\n    const scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n    const startScale = 0;\n    const endScale = 1;\n    let origin;\n    if (direction === DOWN) {\n        origin = 'top';\n    }\n    else if (direction === LEFT) {\n        origin = RIGHT;\n    }\n    else if (direction === RIGHT) {\n        origin = LEFT;\n    }\n    else {\n        origin = 'bottom';\n    }\n    return {\n        start: { transform: `${scale}(${startScale})`, transformOrigin: origin },\n        end: { transform: `${scale}(${endScale})` }\n    };\n};\nanimationTypes.slide = (direction) => {\n    const translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n    const start = direction === RIGHT || direction === DOWN ? -100 : 100;\n    const end = 0;\n    return {\n        start: { transform: `${translate}(${start}%)` },\n        end: { transform: `${translate}(${end}%)` }\n    };\n};\nanimationTypes.fade = () => {\n    return {\n        start: { opacity: 0 },\n        end: { opacity: 1 }\n    };\n};\nanimationTypes.zoom = () => {\n    const start = 0;\n    const end = 1;\n    return {\n        start: { transform: `scale(${start})` },\n        end: { transform: `scale(${end})` }\n    };\n};\n/**\n * @hidden\n */\nclass AnimationService {\n    constructor(animationBuilder) {\n        this.animationBuilder = animationBuilder;\n        this.start = new EventEmitter();\n        this.end = new EventEmitter();\n    }\n    play(element, options, flip) {\n        if (!this.flip || this.flip.horizontal !== flip.horizontal ||\n            this.flip.vertical !== flip.vertical) {\n            this.flip = flip;\n            const type = options.type || DEFAULT_TYPE;\n            const statesFn = animationTypes[type];\n            if (statesFn) {\n                const direction = this.getDirection(flip, options);\n                const states = statesFn(direction);\n                this.playStates(element, states, options);\n            }\n            else if (isDevMode()) {\n                throw new Error(`Unsupported animation type: \"${type}\". The supported types are slide, expand, fade and zoom.`);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.stopPlayer();\n    }\n    playStates(element, states, options) {\n        this.stopPlayer();\n        const duration = options.duration || DEFAULT_DURATION;\n        const factory = this.animationBuilder.build([\n            style(states.start),\n            animate(`${duration}ms ease-in`, style(states.end))\n        ]);\n        const player = this.player = factory.create(element);\n        player.onDone(() => {\n            this.end.emit();\n            this.stopPlayer();\n        });\n        this.start.emit();\n        player.play();\n    }\n    getDirection(flip, options) {\n        let direction = options.direction || DOWN;\n        if (flip.horizontal) {\n            if (direction === LEFT) {\n                direction = RIGHT;\n            }\n            else if (direction === RIGHT) {\n                direction = LEFT;\n            }\n        }\n        if (flip.vertical) {\n            if (direction === DOWN) {\n                direction = UP;\n            }\n            else if (direction === UP) {\n                direction = DOWN;\n            }\n        }\n        return direction;\n    }\n    stopPlayer() {\n        if (this.player) {\n            this.player.destroy();\n            this.player = null;\n        }\n    }\n}\nAnimationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AnimationService, deps: [{ token: i1.AnimationBuilder }], target: i0.ɵɵFactoryTarget.Injectable });\nAnimationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AnimationService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AnimationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.AnimationBuilder }]; } });\n\n/**\n * @hidden\n */\nconst packageMetadata = {\n    name: '@progress/kendo-angular-popup',\n    productName: 'Kendo UI for Angular',\n    productCodes: ['KENDOUIANGULAR', 'KENDOUICOMPLETE'],\n    publishDate: 1668698035,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning'\n};\n\nconst DEFAULT_OFFSET = { left: -10000, top: 0 };\nconst ANIMATION_CONTAINER = 'k-animation-container';\nconst ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\nclass PopupComponent {\n    constructor(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n        this.container = container;\n        this._alignService = _alignService;\n        this.domService = domService;\n        this._positionService = _positionService;\n        this._resizeService = _resizeService;\n        this._scrollableService = _scrollableService;\n        this.animationService = animationService;\n        this._renderer = _renderer;\n        this._zone = _zone;\n        /**\n         * Controls the Popup animation. By default, the opening and closing animations\n         * are enabled ([see example]({% slug animations_popup %})).\n         */\n        this.animate = true;\n        /**\n         * Specifies the anchor pivot point\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.anchorAlign = { horizontal: 'left', vertical: 'bottom' };\n        /**\n         * Configures the collision behavior of the Popup\n         * ([see example]({% slug viewportboundarydetection_popup %})).\n         */\n        this.collision = { horizontal: 'fit', vertical: 'flip' };\n        /**\n         * Specifies the pivot point of the Popup\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.popupAlign = { horizontal: 'left', vertical: 'top' };\n        /**\n         * Controls whether the component will copy the `anchor` font styles.\n         */\n        this.copyAnchorStyles = false;\n        /**\n         * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n         * To make the Popup acquire absolute positioning, set this option to `absolute`.\n         *\n         * > If you need to support mobile browsers with the zoom option,\n         * use the `absolute` positioning of the Popup.\n         *\n         * @example\n         * ```html\n         * <style>\n         *  .parent-content {\n         *     position: relative;\n         *     width: 200px;\n         *     height: 200px;\n         *     overflow: auto;\n         *     margin: 200px auto;\n         *     border: 1px solid red;\n         *  }\n         *  .content {\n         *     position: relative;\n         *     width: 100px;\n         *     height: 100px;\n         *     overflow: auto;\n         *     margin: 300px;\n         *     border: 1px solid blue;\n         *  }\n         *  .anchor {\n         *     position: absolute;\n         *     top: 200px;\n         *     left: 200px;\n         *  }\n         * </style>\n         * ```\n         * ```ts\n         * _@Component({\n         * selector: 'my-app',\n         * template: `\n         *   <div class=\"example-config\">\n         *      Position mode:\n         *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n         *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n         *   </div>\n         *   <div class=\"example-config\">\n         *       Append to\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n         *           Root component\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n         *           <span style=\"color: red\">Red Container</span>\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n         *           <span style=\"color: blue\">Blue Container</span>\n         *       </label>\n         *   </div>\n         *   <div class=\"example\">\n         *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n         *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n         *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n         *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n         *             <ul>\n         *                 <li>Item1</li>\n         *                 <li>Item2</li>\n         *                 <li>Item3</li>\n         *             </ul>\n         *           </kendo-popup>\n         *           <span style=\"position: absolute; top: 400px; left: 400px\">Bottom/Right</span>\n         *         </div>\n         *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n         *           <ul>\n         *               <li>Item1</li>\n         *               <li>Item2</li>\n         *               <li>Item3</li>\n         *           </ul>\n         *         </kendo-popup>\n         *         <span style=\"position: absolute; top: 600px; left: 600px\">Bottom/Right</span>\n         *     </div>\n         *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n         *       <ul>\n         *           <li>Item1</li>\n         *           <li>Item2</li>\n         *           <li>Item3</li>\n         *       </ul>\n         *     </kendo-popup>\n         *   </div>\n         * `\n         * })\n         * class AppComponent {\n         *   public checked: number = 3;\n         *   public mode: string = 'absolute';\n         *   public show: boolean = true;\n         * }\n         * ```\n         */\n        this.positionMode = 'fixed';\n        /**\n         * Specifies the absolute position of the element\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n         * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n         * The boundary detection is applied by using the window viewport.\n         */\n        this.offset = DEFAULT_OFFSET;\n        /**\n         * Fires when the anchor is scrolled outside the screen boundaries.\n         * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n         */\n        this.anchorViewportLeave = new EventEmitter();\n        /**\n         * Fires after the component is closed.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires after the component is opened and the opening animation ends.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires after the component is opened and the Popup is positioned.\n         */\n        this.positionChange = new EventEmitter();\n        this.resolvedPromise = Promise.resolve(null);\n        this.initialCheck = true;\n        validatePackage(packageMetadata);\n        this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n        this.updateFixedClass();\n    }\n    ngOnInit() {\n        this.reposition = this.reposition.bind(this);\n        this._resizeService.subscribe(this.reposition);\n        this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n        this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n        this._scrollableService.forElement(this.domService.nativeElement(this.anchor) || this.container.nativeElement).subscribe(this.onScroll.bind(this));\n        this.currentOffset = DEFAULT_OFFSET;\n        this.setZIndex();\n        this.copyFontStyles();\n        this.updateFixedClass();\n        this.reposition();\n    }\n    ngOnChanges(changes) {\n        if (changes.copyAnchorStyles) {\n            this.copyFontStyles();\n        }\n        if (changes.positionMode) {\n            this.updateFixedClass();\n        }\n    }\n    ngAfterViewInit() {\n        if (!this.animate) {\n            this.resolvedPromise.then(() => {\n                this.onAnimationEnd();\n            });\n        }\n    }\n    ngAfterViewChecked() {\n        if (this.initialCheck) {\n            this.initialCheck = false;\n            return;\n        }\n        this._zone.runOutsideAngular(() => {\n            // workarounds https://github.com/angular/angular/issues/19094\n            // uses promise because it is executed synchronously after the content is updated\n            // does not use onStable in case the current zone is not the angular one.\n            this.unsubscribeReposition();\n            this.repositionSubscription = from(this.resolvedPromise)\n                .subscribe(this.reposition);\n        });\n    }\n    ngOnDestroy() {\n        this.anchorViewportLeave.complete();\n        this.positionChange.complete();\n        this.close.emit();\n        this.close.complete();\n        this._resizeService.unsubscribe();\n        this._scrollableService.unsubscribe();\n        this.animationSubscriptions.unsubscribe();\n        this.unsubscribeReposition();\n    }\n    /**\n     * @hidden\n     */\n    onResize() {\n        this.reposition();\n    }\n    onAnimationStart() {\n        this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n    }\n    onAnimationEnd() {\n        this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n        this.open.emit();\n        this.open.complete();\n    }\n    get currentOffset() {\n        return this._currentOffset;\n    }\n    set currentOffset(offset) {\n        this.setContainerStyle('left', `${offset.left}px`);\n        this.setContainerStyle('top', `${offset.top}px`);\n        this._currentOffset = offset;\n    }\n    setZIndex() {\n        if (this.anchor) {\n            this.setContainerStyle('z-index', String(this.domService.zIndex(this.domService.nativeElement(this.anchor), this.container)));\n        }\n    }\n    reposition() {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        const { flip, offset } = this.position();\n        if (!this.currentOffset || isDifferentOffset(this.currentOffset, offset)) {\n            this.currentOffset = offset;\n            if (hasObservers(this.positionChange)) {\n                this._zone.run(() => this.positionChange.emit({ offset, flip }));\n            }\n        }\n        if (this.animate) {\n            this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n        }\n        this.resizeSensor.acceptSize();\n    }\n    position() {\n        const alignedOffset = this._alignService.alignElement({\n            anchor: this.domService.nativeElement(this.anchor),\n            anchorAlign: this.anchorAlign,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin,\n            offset: this.offset,\n            positionMode: this.positionMode\n        });\n        return this._positionService.positionElement({\n            anchor: this.domService.nativeElement(this.anchor),\n            anchorAlign: this.anchorAlign,\n            collisions: this.collision,\n            currentLocation: alignedOffset,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin\n        });\n    }\n    onScroll(isInViewPort) {\n        const hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n        if (isInViewPort || !hasLeaveObservers) {\n            this.reposition();\n        }\n        else if (hasLeaveObservers) {\n            this._zone.run(() => {\n                this.anchorViewportLeave.emit();\n            });\n        }\n    }\n    copyFontStyles() {\n        if (!this.anchor || !this.copyAnchorStyles) {\n            return;\n        }\n        this.domService.getFontStyles(this.domService.nativeElement(this.anchor))\n            .forEach(s => this.setContainerStyle(s.key, s.value));\n    }\n    updateFixedClass() {\n        const action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n        this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n    }\n    setContainerStyle(name, value) {\n        this._renderer.setStyle(this.container.nativeElement, name, value);\n    }\n    unsubscribeReposition() {\n        if (this.repositionSubscription) {\n            this.repositionSubscription.unsubscribe();\n        }\n    }\n}\nPopupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupComponent, deps: [{ token: i0.ElementRef }, { token: AlignService }, { token: DOMService }, { token: PositionService }, { token: ResizeService }, { token: ScrollableService }, { token: AnimationService }, { token: i0.Renderer2 }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nPopupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PopupComponent, selector: \"kendo-popup\", inputs: { animate: \"animate\", anchor: \"anchor\", anchorAlign: \"anchorAlign\", collision: \"collision\", popupAlign: \"popupAlign\", copyAnchorStyles: \"copyAnchorStyles\", popupClass: \"popupClass\", positionMode: \"positionMode\", offset: \"offset\", margin: \"margin\" }, outputs: { anchorViewportLeave: \"anchorViewportLeave\", close: \"close\", open: \"open\", positionChange: \"positionChange\" }, providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService], viewQueries: [{ propertyName: \"contentContainer\", first: true, predicate: [\"container\"], descendants: true, static: true }, { propertyName: \"resizeSensor\", first: true, predicate: ResizeSensorComponent, descendants: true, static: true }], exportAs: [\"kendo-popup\"], usesOnChanges: true, ngImport: i0, template: `\n        <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n            <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n            </kendo-resize-sensor>\n        </div>\n     `, isInline: true, components: [{ type: i7.ResizeSensorComponent, selector: \"kendo-resize-sensor\", inputs: [\"rateLimit\"], outputs: [\"resize\"] }], directives: [{ type: i8.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i8.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i8.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupComponent, decorators: [{\n            type: Component,\n            args: [{\n                    exportAs: 'kendo-popup',\n                    providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n                    selector: 'kendo-popup',\n                    template: `\n        <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n            <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n            </kendo-resize-sensor>\n        </div>\n     `\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: AlignService }, { type: DOMService }, { type: PositionService }, { type: ResizeService }, { type: ScrollableService }, { type: AnimationService }, { type: i0.Renderer2 }, { type: i0.NgZone }]; }, propDecorators: { animate: [{\n                type: Input\n            }], anchor: [{\n                type: Input\n            }], anchorAlign: [{\n                type: Input\n            }], collision: [{\n                type: Input\n            }], popupAlign: [{\n                type: Input\n            }], copyAnchorStyles: [{\n                type: Input\n            }], popupClass: [{\n                type: Input\n            }], positionMode: [{\n                type: Input\n            }], offset: [{\n                type: Input\n            }], margin: [{\n                type: Input\n            }], anchorViewportLeave: [{\n                type: Output\n            }], close: [{\n                type: Output\n            }], open: [{\n                type: Output\n            }], positionChange: [{\n                type: Output\n            }], contentContainer: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }], resizeSensor: [{\n                type: ViewChild,\n                args: [ResizeSensorComponent, { static: true }]\n            }] } });\n\nconst removeElement = (element) => {\n    if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\nconst POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\nclass PopupService {\n    constructor(applicationRef, componentFactoryResolver, injector, container) {\n        this.applicationRef = applicationRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.injector = injector;\n        this.container = container;\n    }\n    /**\n     * Gets the root view container into which the component will be injected.\n     *\n     * @returns {ComponentRef<any>}\n     */\n    get rootViewContainer() {\n        // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n        const rootComponents = this.applicationRef.components || [];\n        if (rootComponents[0]) {\n            return rootComponents[0];\n        }\n        throw new Error(`\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        `);\n    }\n    /**\n     * Sets or gets the HTML element of the root component container.\n     *\n     * @returns {HTMLElement}\n     */\n    get rootViewContainerNode() {\n        return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n    }\n    /**\n     * Opens a Popup component. Created Popups are mounted\n     * in the DOM directly in the root application component.\n     *\n     * @param {PopupSettings} options - The options which define the Popup.\n     * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n     *\n     * @example\n     *\n     * ```ts-no-run\n     * _@Component({\n     *   selector: 'my-app',\n     *   template: `\n     *     <ng-template #template>\n     *      Popup content\n     *     </ng-template>\n     *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n     *   `\n     * })\n     * export class AppComponent {\n     *     public popupRef: PopupRef;\n     *\n     *     constructor( private popupService: PopupService ) {}\n     *\n     *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n     *         if (this.popupRef) {\n     *              this.popupRef.close();\n     *              this.popupRef = null;\n     *              return;\n     *         }\n     *\n     *         this.popupRef = this.popupService.open({\n     *           anchor: anchor,\n     *           content: template\n     *         });\n     *     }\n     * }\n     * ```\n     */\n    open(options = {}) {\n        const { component, nodes } = this.contentFrom(options.content);\n        const popupComponentRef = this.appendPopup(nodes, options.appendTo);\n        const popupInstance = popupComponentRef.instance;\n        this.projectComponentInputs(popupComponentRef, options);\n        popupComponentRef.changeDetectorRef.detectChanges();\n        if (component) {\n            component.changeDetectorRef.detectChanges();\n        }\n        const popupElement = this.getComponentRootNode(popupComponentRef);\n        return {\n            close: () => {\n                if (component) {\n                    component.destroy();\n                }\n                popupComponentRef.destroy();\n                // Angular will not remove the element unless the change detection is triggered\n                removeElement(popupElement);\n            },\n            content: component,\n            popup: popupComponentRef,\n            popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n            popupClose: popupInstance.close,\n            popupElement: popupElement,\n            popupOpen: popupInstance.open,\n            popupPositionChange: popupInstance.positionChange\n        };\n    }\n    appendPopup(nodes, container) {\n        const popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n        if (!container) {\n            this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n        }\n        return popupComponentRef;\n    }\n    /**\n     * Gets the HTML element for a component reference.\n     *\n     * @param {ComponentRef<any>} componentRef\n     * @returns {HTMLElement}\n     */\n    getComponentRootNode(componentRef) {\n        return componentRef.location.nativeElement;\n    }\n    /**\n     * Gets the `ComponentFactory` instance by its type.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    getComponentFactory(componentClass) {\n        return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n    }\n    /**\n     * Creates a component reference from a `Component` type class.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    createComponent(componentClass, nodes, container) {\n        const factory = this.getComponentFactory(componentClass);\n        if (container) {\n            return container.createComponent(factory, undefined, this.injector, nodes);\n        }\n        else {\n            const component = factory.create(this.injector, nodes);\n            this.applicationRef.attachView(component.hostView);\n            return component;\n        }\n    }\n    /**\n     * Projects the inputs on the component.\n     *\n     * @param {ComponentRef<any>} component\n     * @param {*} options\n     * @returns {ComponentRef<any>}\n     */\n    projectComponentInputs(component, options) {\n        Object.getOwnPropertyNames(options)\n            .filter(prop => prop !== 'content' || options.content instanceof TemplateRef)\n            .map((prop) => {\n            component.instance[prop] = options[prop];\n        });\n        return component;\n    }\n    /**\n     * Gets the component and the nodes to append from the `content` option.\n     *\n     * @param {*} content\n     * @returns {any}\n     */\n    contentFrom(content) {\n        if (!content || content instanceof TemplateRef) {\n            return { component: null, nodes: [[]] };\n        }\n        const component = this.createComponent(content);\n        const nodes = component ? [component.location.nativeElement] : [];\n        return {\n            component: component,\n            nodes: [\n                nodes // <ng-content>\n            ]\n        };\n    }\n}\nPopupService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupService, deps: [{ token: i0.ApplicationRef }, { token: i0.ComponentFactoryResolver }, { token: i0.Injector }, { token: POPUP_CONTAINER, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPopupService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.ApplicationRef }, { type: i0.ComponentFactoryResolver }, { type: i0.Injector }, { type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [POPUP_CONTAINER]\n                }, {\n                    type: Optional\n                }] }]; } });\n\nconst POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule](link:site.data.urls.angular['ngmoduleapi'])\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\nclass PopupModule {\n}\nPopupModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPopupModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, declarations: [PopupComponent], imports: [CommonModule, ResizeSensorModule], exports: [PopupComponent] });\nPopupModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, providers: [PopupService], imports: [[CommonModule, ResizeSensorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [POPUP_DIRECTIVES],\n                    entryComponents: [POPUP_DIRECTIVES],\n                    exports: [POPUP_DIRECTIVES],\n                    imports: [CommonModule, ResizeSensorModule],\n                    providers: [PopupService]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { POPUP_CONTAINER, PopupComponent, PopupModule, PopupService, SCALE };\n\n"],"mappings":"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BAAzE,EAA6FC,gBAA7F,EAA+GC,SAA/G,EAA0HtF,KAA1H,EAAiI;IACxI,KAAKtF,SAAL,GAAiBA,SAAjB;IACA,KAAKsK,aAAL,GAAqBA,aAArB;IACA,KAAKC,UAAL,GAAkBA,UAAlB;IACA,KAAKC,gBAAL,GAAwBA,gBAAxB;IACA,KAAKC,cAAL,GAAsBA,cAAtB;IACA,KAAKC,kBAAL,GAA0BA,kBAA1B;IACA,KAAKC,gBAAL,GAAwBA,gBAAxB;IACA,KAAKC,SAAL,GAAiBA,SAAjB;IACA,KAAKtF,KAAL,GAAaA,KAAb;IACA;AACR;AACA;AACA;;IACQ,KAAKpJ,OAAL,GAAe,IAAf;IACA;AACR;AACA;AACA;;IACQ,KAAK0H,WAAL,GAAmB;MAAE6E,UAAU,EAAE,MAAd;MAAsBC,QAAQ,EAAE;IAAhC,CAAnB;IACA;AACR;AACA;AACA;;IACQ,KAAKmC,SAAL,GAAiB;MAAEpC,UAAU,EAAE,KAAd;MAAqBC,QAAQ,EAAE;IAA/B,CAAjB;IACA;AACR;AACA;AACA;;IACQ,KAAKoC,UAAL,GAAkB;MAAErC,UAAU,EAAE,MAAd;MAAsBC,QAAQ,EAAE;IAAhC,CAAlB;IACA;AACR;AACA;;IACQ,KAAKqC,gBAAL,GAAwB,KAAxB;IACA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACQ,KAAKhH,YAAL,GAAoB,OAApB;IACA;AACR;AACA;AACA;AACA;AACA;;IACQ,KAAK9I,MAAL,GAAciP,cAAd;IACA;AACR;AACA;AACA;;IACQ,KAAKc,mBAAL,GAA2B,IAAI5Q,YAAJ,EAA3B;IACA;AACR;AACA;;IACQ,KAAK6Q,KAAL,GAAa,IAAI7Q,YAAJ,EAAb;IACA;AACR;AACA;;IACQ,KAAK8Q,IAAL,GAAY,IAAI9Q,YAAJ,EAAZ;IACA;AACR;AACA;;IACQ,KAAK+Q,cAAL,GAAsB,IAAI/Q,YAAJ,EAAtB;IACA,KAAKgR,eAAL,GAAuBC,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAvB;IACA,KAAKC,YAAL,GAAoB,IAApB;IACApP,eAAe,CAACwN,eAAD,CAAf;;IACA,KAAKiB,SAAL,CAAeY,QAAf,CAAwBxL,SAAS,CAAC2B,aAAlC,EAAiDwI,mBAAjD;;IACA,KAAKsB,gBAAL;EACH;;EACDC,QAAQ,GAAG;IACP,KAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;;IACA,KAAKnB,cAAL,CAAoBlF,SAApB,CAA8B,KAAKoG,UAAnC;;IACA,KAAKE,sBAAL,GAA8B,KAAKlB,gBAAL,CAAsB9C,KAAtB,CAA4BtC,SAA5B,CAAsC,KAAKuG,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAtC,CAA9B;IACA,KAAKC,sBAAL,CAA4BE,GAA5B,CAAgC,KAAKpB,gBAAL,CAAsB5C,GAAtB,CAA0BxC,SAA1B,CAAoC,KAAKyG,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAApC,CAAhC;;IACA,KAAKlB,kBAAL,CAAwBxE,UAAxB,CAAmC,KAAKqE,UAAL,CAAgB5I,aAAhB,CAA8B,KAAK5B,MAAnC,KAA8C,KAAKC,SAAL,CAAe2B,aAAhG,EAA+G4D,SAA/G,CAAyH,KAAK0G,QAAL,CAAcL,IAAd,CAAmB,IAAnB,CAAzH;;IACA,KAAK5J,aAAL,GAAqBkI,cAArB;IACA,KAAKgC,SAAL;IACA,KAAKC,cAAL;IACA,KAAKV,gBAAL;IACA,KAAKE,UAAL;EACH;;EACDS,WAAW,CAACC,OAAD,EAAU;IACjB,IAAIA,OAAO,CAACtB,gBAAZ,EAA8B;MAC1B,KAAKoB,cAAL;IACH;;IACD,IAAIE,OAAO,CAACtI,YAAZ,EAA0B;MACtB,KAAK0H,gBAAL;IACH;EACJ;;EACDa,eAAe,GAAG;IACd,IAAI,CAAC,KAAKpQ,OAAV,EAAmB;MACf,KAAKkP,eAAL,CAAqBmB,IAArB,CAA0B,MAAM;QAC5B,KAAKP,cAAL;MACH,CAFD;IAGH;EACJ;;EACDQ,kBAAkB,GAAG;IACjB,IAAI,KAAKjB,YAAT,EAAuB;MACnB,KAAKA,YAAL,GAAoB,KAApB;MACA;IACH;;IACD,KAAKjG,KAAL,CAAWG,iBAAX,CAA6B,MAAM;MAC/B;MACA;MACA;MACA,KAAKgH,qBAAL;MACA,KAAKC,sBAAL,GAA8B5Q,IAAI,CAAC,KAAKsP,eAAN,CAAJ,CACzB7F,SADyB,CACf,KAAKoG,UADU,CAA9B;IAEH,CAPD;EAQH;;EACD3C,WAAW,GAAG;IACV,KAAKgC,mBAAL,CAAyB2B,QAAzB;IACA,KAAKxB,cAAL,CAAoBwB,QAApB;IACA,KAAK1B,KAAL,CAAWzB,IAAX;IACA,KAAKyB,KAAL,CAAW0B,QAAX;;IACA,KAAKlC,cAAL,CAAoB7E,WAApB;;IACA,KAAK8E,kBAAL,CAAwB9E,WAAxB;;IACA,KAAKiG,sBAAL,CAA4BjG,WAA5B;IACA,KAAK6G,qBAAL;EACH;EACD;AACJ;AACA;;;EACIG,QAAQ,GAAG;IACP,KAAKjB,UAAL;EACH;;EACDG,gBAAgB,GAAG;IACf,KAAKlB,SAAL,CAAeiC,WAAf,CAA2B,KAAK7M,SAAL,CAAe2B,aAA1C,EAAyD,6BAAzD;EACH;;EACDqK,cAAc,GAAG;IACb,KAAKpB,SAAL,CAAeY,QAAf,CAAwB,KAAKxL,SAAL,CAAe2B,aAAvC,EAAsD,6BAAtD;;IACA,KAAKuJ,IAAL,CAAU1B,IAAV;IACA,KAAK0B,IAAL,CAAUyB,QAAV;EACH;;EACgB,IAAb3K,aAAa,GAAG;IAChB,OAAO,KAAK8K,cAAZ;EACH;;EACgB,IAAb9K,aAAa,CAAC/G,MAAD,EAAS;IACtB,KAAK8R,iBAAL,CAAuB,MAAvB,EAAgC,GAAE9R,MAAM,CAACwB,IAAK,IAA9C;IACA,KAAKsQ,iBAAL,CAAuB,KAAvB,EAA+B,GAAE9R,MAAM,CAACyB,GAAI,IAA5C;IACA,KAAKoQ,cAAL,GAAsB7R,MAAtB;EACH;;EACDiR,SAAS,GAAG;IACR,IAAI,KAAKnM,MAAT,EAAiB;MACb,KAAKgN,iBAAL,CAAuB,SAAvB,EAAkCC,MAAM,CAAC,KAAKzC,UAAL,CAAgBzK,MAAhB,CAAuB,KAAKyK,UAAL,CAAgB5I,aAAhB,CAA8B,KAAK5B,MAAnC,CAAvB,EAAmE,KAAKC,SAAxE,CAAD,CAAxC;IACH;EACJ;;EACD2L,UAAU,GAAG;IACT,IAAI,CAACnQ,mBAAmB,EAAxB,EAA4B;MACxB;IACH;;IACD,MAAM;MAAE2J,IAAF;MAAQlK;IAAR,IAAmB,KAAKiH,QAAL,EAAzB;;IACA,IAAI,CAAC,KAAKF,aAAN,IAAuBhF,iBAAiB,CAAC,KAAKgF,aAAN,EAAqB/G,MAArB,CAA5C,EAA0E;MACtE,KAAK+G,aAAL,GAAqB/G,MAArB;;MACA,IAAIQ,YAAY,CAAC,KAAK0P,cAAN,CAAhB,EAAuC;QACnC,KAAK7F,KAAL,CAAW2H,GAAX,CAAe,MAAM,KAAK9B,cAAL,CAAoB3B,IAApB,CAAyB;UAAEvO,MAAF;UAAUkK;QAAV,CAAzB,CAArB;MACH;IACJ;;IACD,IAAI,KAAKjJ,OAAT,EAAkB;MACd,KAAKyO,gBAAL,CAAsBpC,IAAtB,CAA2B,KAAK2E,gBAAL,CAAsBvL,aAAjD,EAAgE,KAAKzF,OAArE,EAA8EiJ,IAA9E;IACH;;IACD,KAAKgI,YAAL,CAAkBC,UAAlB;EACH;;EACDlL,QAAQ,GAAG;IACP,MAAMmL,aAAa,GAAG,KAAK/C,aAAL,CAAmB3G,YAAnB,CAAgC;MAClD5D,MAAM,EAAE,KAAKwK,UAAL,CAAgB5I,aAAhB,CAA8B,KAAK5B,MAAnC,CAD0C;MAElD6D,WAAW,EAAE,KAAKA,WAFgC;MAGlD5F,OAAO,EAAE,KAAKgC,SAHoC;MAIlD6D,YAAY,EAAE,KAAKiH,UAJ+B;MAKlDhH,MAAM,EAAE,KAAKA,MALqC;MAMlD7I,MAAM,EAAE,KAAKA,MANqC;MAOlD8I,YAAY,EAAE,KAAKA;IAP+B,CAAhC,CAAtB;;IASA,OAAO,KAAKyG,gBAAL,CAAsB3F,eAAtB,CAAsC;MACzC9E,MAAM,EAAE,KAAKwK,UAAL,CAAgB5I,aAAhB,CAA8B,KAAK5B,MAAnC,CADiC;MAEzC6D,WAAW,EAAE,KAAKA,WAFuB;MAGzCkB,UAAU,EAAE,KAAK+F,SAHwB;MAIzC/I,eAAe,EAAEuL,aAJwB;MAKzCrP,OAAO,EAAE,KAAKgC,SAL2B;MAMzC6D,YAAY,EAAE,KAAKiH,UANsB;MAOzChH,MAAM,EAAE,KAAKA;IAP4B,CAAtC,CAAP;EASH;;EACDmI,QAAQ,CAACqB,YAAD,EAAe;IACnB,MAAMC,iBAAiB,GAAG9R,YAAY,CAAC,KAAKuP,mBAAN,CAAtC;;IACA,IAAIsC,YAAY,IAAI,CAACC,iBAArB,EAAwC;MACpC,KAAK5B,UAAL;IACH,CAFD,MAGK,IAAI4B,iBAAJ,EAAuB;MACxB,KAAKjI,KAAL,CAAW2H,GAAX,CAAe,MAAM;QACjB,KAAKjC,mBAAL,CAAyBxB,IAAzB;MACH,CAFD;IAGH;EACJ;;EACD2C,cAAc,GAAG;IACb,IAAI,CAAC,KAAKpM,MAAN,IAAgB,CAAC,KAAKgL,gBAA1B,EAA4C;MACxC;IACH;;IACD,KAAKR,UAAL,CAAgBpJ,aAAhB,CAA8B,KAAKoJ,UAAL,CAAgB5I,aAAhB,CAA8B,KAAK5B,MAAnC,CAA9B,EACKyN,OADL,CACaC,CAAC,IAAI,KAAKV,iBAAL,CAAuBU,CAAC,CAACjM,GAAzB,EAA8BiM,CAAC,CAAChM,KAAhC,CADlB;EAEH;;EACDgK,gBAAgB,GAAG;IACf,MAAMiC,MAAM,GAAG,KAAK3J,YAAL,KAAsB,OAAtB,GAAgC,UAAhC,GAA6C,aAA5D;;IACA,KAAK6G,SAAL,CAAe8C,MAAf,EAAuB,KAAK1N,SAAL,CAAe2B,aAAtC,EAAqDyI,yBAArD;EACH;;EACD2C,iBAAiB,CAACnD,IAAD,EAAOnI,KAAP,EAAc;IAC3B,KAAKmJ,SAAL,CAAe+C,QAAf,CAAwB,KAAK3N,SAAL,CAAe2B,aAAvC,EAAsDiI,IAAtD,EAA4DnI,KAA5D;EACH;;EACDgL,qBAAqB,GAAG;IACpB,IAAI,KAAKC,sBAAT,EAAiC;MAC7B,KAAKA,sBAAL,CAA4B9G,WAA5B;IACH;EACJ;;AAjTgB;;AAmTrByE,cAAc,CAAChH,IAAf;EAAA,iBAA4GgH,cAA5G,EAxqB8FtQ,EAwqB9F,mBAA4IA,EAAE,CAAC6T,UAA/I,GAxqB8F7T,EAwqB9F,mBAAsKyJ,YAAtK,GAxqB8FzJ,EAwqB9F,mBAA+L8G,UAA/L,GAxqB8F9G,EAwqB9F,mBAAsN6K,eAAtN,GAxqB8F7K,EAwqB9F,mBAAkPsL,aAAlP,GAxqB8FtL,EAwqB9F,mBAA4QkM,iBAA5Q,GAxqB8FlM,EAwqB9F,mBAA0SsO,gBAA1S,GAxqB8FtO,EAwqB9F,mBAAuUA,EAAE,CAAC8T,SAA1U,GAxqB8F9T,EAwqB9F,mBAAgWA,EAAE,CAACgM,MAAnW;AAAA;;AACAsE,cAAc,CAACyD,IAAf,kBAzqB8F/T,EAyqB9F;EAAA,MAAgGsQ,cAAhG;EAAA;EAAA;IAAA;MAzqB8FtQ,EAyqB9F;MAzqB8FA,EAyqB9F,aAAoyB2B,qBAApyB;IAAA;;IAAA;MAAA;;MAzqB8F3B,EAyqB9F,qBAzqB8FA,EAyqB9F;MAzqB8FA,EAyqB9F,qBAzqB8FA,EAyqB9F;IAAA;EAAA;EAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA;IAAA;IAAA;IAAA;IAAA;EAAA;EAAA;EAAA,WAzqB8FA,EAyqB9F,oBAA+gB,CAACyJ,YAAD,EAAe6E,gBAAf,EAAiCxH,UAAjC,EAA6C+D,eAA7C,EAA8DS,aAA9D,EAA6EY,iBAA7E,CAA/gB,GAzqB8FlM,EAyqB9F;EAAA;EAAA;EAAA;EAAA;EAAA;IAAA;MAzqB8FA,EAyqB9F;MAzqB8FA,EA0qBtF,+BADR;MAzqB8FA,EA2qBlF,gBAFZ;MAzqB8FA,EA4qBlF,6EAHZ;MAzqB8FA,EA6qBlF,4CAJZ;MAzqB8FA,EA6qB3C;QAAA,OAAU,cAAV;MAAA,EAJnD;MAzqB8FA,EA8qBlF,iBALZ;IAAA;;IAAA;MAzqB8FA,EA0qBjE,sCAD7B;MAzqB8FA,EA4qBrE,aAHzB;MAzqB8FA,EA4qBrE,iEAHzB;MAzqB8FA,EA6qB7D,aAJjC;MAzqB8FA,EA6qB7D,6BAJjC;IAAA;EAAA;EAAA,eAO6CwB,EAAE,CAACG,qBAPhD,EAO4KU,EAAE,CAAC2R,OAP/K,EAOuP3R,EAAE,CAAC4R,gBAP1P,EAO+W5R,EAAE,CAAC6R,IAPlX;EAAA;AAAA;;AAQA;EAAA,mDAjrB8FlU,EAirB9F,mBAA4FsQ,cAA5F,EAAwH,CAAC;IAC7G9G,IAAI,EAAEjJ,SADuG;IAE7G6E,IAAI,EAAE,CAAC;MACC+O,QAAQ,EAAE,aADX;MAECC,SAAS,EAAE,CAAC3K,YAAD,EAAe6E,gBAAf,EAAiCxH,UAAjC,EAA6C+D,eAA7C,EAA8DS,aAA9D,EAA6EY,iBAA7E,CAFZ;MAGCmI,QAAQ,EAAE,aAHX;MAICC,QAAQ,EAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;IAXmB,CAAD;EAFuG,CAAD,CAAxH,EAe4B,YAAY;IAAE,OAAO,CAAC;MAAE9K,IAAI,EAAExJ,EAAE,CAAC6T;IAAX,CAAD,EAA0B;MAAErK,IAAI,EAAEC;IAAR,CAA1B,EAAkD;MAAED,IAAI,EAAE1C;IAAR,CAAlD,EAAwE;MAAE0C,IAAI,EAAEqB;IAAR,CAAxE,EAAmG;MAAErB,IAAI,EAAE8B;IAAR,CAAnG,EAA4H;MAAE9B,IAAI,EAAE0C;IAAR,CAA5H,EAAyJ;MAAE1C,IAAI,EAAE8E;IAAR,CAAzJ,EAAqL;MAAE9E,IAAI,EAAExJ,EAAE,CAAC8T;IAAX,CAArL,EAA6M;MAAEtK,IAAI,EAAExJ,EAAE,CAACgM;IAAX,CAA7M,CAAP;EAA2O,CAfrR,EAeuS;IAAE7J,OAAO,EAAE,CAAC;MACnSqH,IAAI,EAAEhJ;IAD6R,CAAD,CAAX;IAEvRwF,MAAM,EAAE,CAAC;MACTwD,IAAI,EAAEhJ;IADG,CAAD,CAF+Q;IAIvRqJ,WAAW,EAAE,CAAC;MACdL,IAAI,EAAEhJ;IADQ,CAAD,CAJ0Q;IAMvRsQ,SAAS,EAAE,CAAC;MACZtH,IAAI,EAAEhJ;IADM,CAAD,CAN4Q;IAQvRuQ,UAAU,EAAE,CAAC;MACbvH,IAAI,EAAEhJ;IADO,CAAD,CAR2Q;IAUvRwQ,gBAAgB,EAAE,CAAC;MACnBxH,IAAI,EAAEhJ;IADa,CAAD,CAVqQ;IAYvR+T,UAAU,EAAE,CAAC;MACb/K,IAAI,EAAEhJ;IADO,CAAD,CAZ2Q;IAcvRwJ,YAAY,EAAE,CAAC;MACfR,IAAI,EAAEhJ;IADS,CAAD,CAdyQ;IAgBvRU,MAAM,EAAE,CAAC;MACTsI,IAAI,EAAEhJ;IADG,CAAD,CAhB+Q;IAkBvRuJ,MAAM,EAAE,CAAC;MACTP,IAAI,EAAEhJ;IADG,CAAD,CAlB+Q;IAoBvRyQ,mBAAmB,EAAE,CAAC;MACtBzH,IAAI,EAAE/I;IADgB,CAAD,CApBkQ;IAsBvRyQ,KAAK,EAAE,CAAC;MACR1H,IAAI,EAAE/I;IADE,CAAD,CAtBgR;IAwBvR0Q,IAAI,EAAE,CAAC;MACP3H,IAAI,EAAE/I;IADC,CAAD,CAxBiR;IA0BvR2Q,cAAc,EAAE,CAAC;MACjB5H,IAAI,EAAE/I;IADW,CAAD,CA1BuQ;IA4BvR0S,gBAAgB,EAAE,CAAC;MACnB3J,IAAI,EAAE9I,SADa;MAEnB0E,IAAI,EAAE,CAAC,WAAD,EAAc;QAAEoP,MAAM,EAAE;MAAV,CAAd;IAFa,CAAD,CA5BqQ;IA+BvRpB,YAAY,EAAE,CAAC;MACf5J,IAAI,EAAE9I,SADS;MAEf0E,IAAI,EAAE,CAACzD,qBAAD,EAAwB;QAAE6S,MAAM,EAAE;MAAV,CAAxB;IAFS,CAAD;EA/ByQ,CAfvS;AAAA;;AAmDA,MAAMC,aAAa,GAAIxQ,OAAD,IAAa;EAC/B,IAAIA,OAAO,IAAIA,OAAO,CAACyQ,UAAvB,EAAmC;IAC/BzQ,OAAO,CAACyQ,UAAR,CAAmB5O,WAAnB,CAA+B7B,OAA/B;EACH;AACJ,CAJD;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAM0Q,eAAe,GAAG,IAAI1U,cAAJ,CAAmB,iBAAnB,CAAxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAM2U,YAAN,CAAmB;EACflL,WAAW,CAACmL,cAAD,EAAiBC,wBAAjB,EAA2CC,QAA3C,EAAqD9O,SAArD,EAAgE;IACvE,KAAK4O,cAAL,GAAsBA,cAAtB;IACA,KAAKC,wBAAL,GAAgCA,wBAAhC;IACA,KAAKC,QAAL,GAAgBA,QAAhB;IACA,KAAK9O,SAAL,GAAiBA,SAAjB;EACH;EACD;AACJ;AACA;AACA;AACA;;;EACyB,IAAjB+O,iBAAiB,GAAG;IACpB;IACA,MAAMC,cAAc,GAAG,KAAKJ,cAAL,CAAoBK,UAApB,IAAkC,EAAzD;;IACA,IAAID,cAAc,CAAC,CAAD,CAAlB,EAAuB;MACnB,OAAOA,cAAc,CAAC,CAAD,CAArB;IACH;;IACD,MAAM,IAAIjG,KAAJ,CAAW;AACzB;AACA;AACA,SAHc,CAAN;EAIH;EACD;AACJ;AACA;AACA;AACA;;;EAC6B,IAArBmG,qBAAqB,GAAG;IACxB,OAAO,KAAKlP,SAAL,GAAiB,KAAKA,SAAL,CAAe2B,aAAhC,GAAgD,KAAKwN,oBAAL,CAA0B,KAAKJ,iBAA/B,CAAvD;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EACI7D,IAAI,CAAC1C,OAAO,GAAG,EAAX,EAAe;IACf,MAAM;MAAE4G,SAAF;MAAaC;IAAb,IAAuB,KAAKC,WAAL,CAAiB9G,OAAO,CAAC+G,OAAzB,CAA7B;IACA,MAAMC,iBAAiB,GAAG,KAAKC,WAAL,CAAiBJ,KAAjB,EAAwB7G,OAAO,CAACkH,QAAhC,CAA1B;IACA,MAAMC,aAAa,GAAGH,iBAAiB,CAACI,QAAxC;IACA,KAAKC,sBAAL,CAA4BL,iBAA5B,EAA+ChH,OAA/C;IACAgH,iBAAiB,CAACM,iBAAlB,CAAoCC,aAApC;;IACA,IAAIX,SAAJ,EAAe;MACXA,SAAS,CAACU,iBAAV,CAA4BC,aAA5B;IACH;;IACD,MAAMC,YAAY,GAAG,KAAKb,oBAAL,CAA0BK,iBAA1B,CAArB;IACA,OAAO;MACHvE,KAAK,EAAE,MAAM;QACT,IAAImE,SAAJ,EAAe;UACXA,SAAS,CAAC3F,OAAV;QACH;;QACD+F,iBAAiB,CAAC/F,OAAlB,GAJS,CAKT;;QACA+E,aAAa,CAACwB,YAAD,CAAb;MACH,CARE;MASHT,OAAO,EAAEH,SATN;MAUHjN,KAAK,EAAEqN,iBAVJ;MAWHS,wBAAwB,EAAEN,aAAa,CAAC3E,mBAXrC;MAYHkF,UAAU,EAAEP,aAAa,CAAC1E,KAZvB;MAaH+E,YAAY,EAAEA,YAbX;MAcHG,SAAS,EAAER,aAAa,CAACzE,IAdtB;MAeHkF,mBAAmB,EAAET,aAAa,CAACxE;IAfhC,CAAP;EAiBH;;EACDsE,WAAW,CAACJ,KAAD,EAAQrP,SAAR,EAAmB;IAC1B,MAAMwP,iBAAiB,GAAG,KAAKa,eAAL,CAAqBhG,cAArB,EAAqCgF,KAArC,EAA4CrP,SAA5C,CAA1B;;IACA,IAAI,CAACA,SAAL,EAAgB;MACZ,KAAKkP,qBAAL,CAA2BxP,WAA3B,CAAuC,KAAKyP,oBAAL,CAA0BK,iBAA1B,CAAvC;IACH;;IACD,OAAOA,iBAAP;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;;;EACIL,oBAAoB,CAACmB,YAAD,EAAe;IAC/B,OAAOA,YAAY,CAACC,QAAb,CAAsB5O,aAA7B;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI6O,mBAAmB,CAACC,cAAD,EAAiB;IAChC,OAAO,KAAK5B,wBAAL,CAA8B6B,uBAA9B,CAAsDD,cAAtD,CAAP;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACIJ,eAAe,CAACI,cAAD,EAAiBpB,KAAjB,EAAwBrP,SAAxB,EAAmC;IAC9C,MAAMmJ,OAAO,GAAG,KAAKqH,mBAAL,CAAyBC,cAAzB,CAAhB;;IACA,IAAIzQ,SAAJ,EAAe;MACX,OAAOA,SAAS,CAACqQ,eAAV,CAA0BlH,OAA1B,EAAmCzE,SAAnC,EAA8C,KAAKoK,QAAnD,EAA6DO,KAA7D,CAAP;IACH,CAFD,MAGK;MACD,MAAMD,SAAS,GAAGjG,OAAO,CAACG,MAAR,CAAe,KAAKwF,QAApB,EAA8BO,KAA9B,CAAlB;MACA,KAAKT,cAAL,CAAoB+B,UAApB,CAA+BvB,SAAS,CAACwB,QAAzC;MACA,OAAOxB,SAAP;IACH;EACJ;EACD;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACIS,sBAAsB,CAACT,SAAD,EAAY5G,OAAZ,EAAqB;IACvCqI,MAAM,CAACC,mBAAP,CAA2BtI,OAA3B,EACKhC,MADL,CACYuK,IAAI,IAAIA,IAAI,KAAK,SAAT,IAAsBvI,OAAO,CAAC+G,OAAR,YAA2B7U,WADrE,EAEK4G,GAFL,CAEUyP,IAAD,IAAU;MACf3B,SAAS,CAACQ,QAAV,CAAmBmB,IAAnB,IAA2BvI,OAAO,CAACuI,IAAD,CAAlC;IACH,CAJD;IAKA,OAAO3B,SAAP;EACH;EACD;AACJ;AACA;AACA;AACA;AACA;;;EACIE,WAAW,CAACC,OAAD,EAAU;IACjB,IAAI,CAACA,OAAD,IAAYA,OAAO,YAAY7U,WAAnC,EAAgD;MAC5C,OAAO;QAAE0U,SAAS,EAAE,IAAb;QAAmBC,KAAK,EAAE,CAAC,EAAD;MAA1B,CAAP;IACH;;IACD,MAAMD,SAAS,GAAG,KAAKiB,eAAL,CAAqBd,OAArB,CAAlB;IACA,MAAMF,KAAK,GAAGD,SAAS,GAAG,CAACA,SAAS,CAACmB,QAAV,CAAmB5O,aAApB,CAAH,GAAwC,EAA/D;IACA,OAAO;MACHyN,SAAS,EAAEA,SADR;MAEHC,KAAK,EAAE,CACHA,KADG,CACG;MADH;IAFJ,CAAP;EAMH;;AA/Kc;;AAiLnBV,YAAY,CAACtL,IAAb;EAAA,iBAA0GsL,YAA1G,EAz8B8F5U,EAy8B9F,UAAwIA,EAAE,CAACiX,cAA3I,GAz8B8FjX,EAy8B9F,UAAsKA,EAAE,CAACkX,wBAAzK,GAz8B8FlX,EAy8B9F,UAA8MA,EAAE,CAACmX,QAAjN,GAz8B8FnX,EAy8B9F,UAAsO2U,eAAtO;AAAA;;AACAC,YAAY,CAACrL,KAAb,kBA18B8FvJ,EA08B9F;EAAA,OAA8G4U,YAA9G;EAAA,SAA8GA,YAA9G;AAAA;;AACA;EAAA,mDA38B8F5U,EA28B9F,mBAA4F4U,YAA5F,EAAsH,CAAC;IAC3GpL,IAAI,EAAEtJ;EADqG,CAAD,CAAtH,EAE4B,YAAY;IAAE,OAAO,CAAC;MAAEsJ,IAAI,EAAExJ,EAAE,CAACiX;IAAX,CAAD,EAA8B;MAAEzN,IAAI,EAAExJ,EAAE,CAACkX;IAAX,CAA9B,EAAqE;MAAE1N,IAAI,EAAExJ,EAAE,CAACmX;IAAX,CAArE,EAA4F;MAAE3N,IAAI,EAAExJ,EAAE,CAAC6T,UAAX;MAAuBjJ,UAAU,EAAE,CAAC;QAC7JpB,IAAI,EAAErJ,MADuJ;QAE7JiF,IAAI,EAAE,CAACuP,eAAD;MAFuJ,CAAD,EAG7J;QACCnL,IAAI,EAAEpJ;MADP,CAH6J;IAAnC,CAA5F,CAAP;EAKlB,CAPxB;AAAA;;AASA,MAAMgX,gBAAgB,GAAG,CAAC9G,cAAD,CAAzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAM+G,WAAN,CAAkB;;AAElBA,WAAW,CAAC/N,IAAZ;EAAA,iBAAyG+N,WAAzG;AAAA;;AACAA,WAAW,CAACC,IAAZ,kBAv/B8FtX,EAu/B9F;EAAA,MAA0GqX;AAA1G;AACAA,WAAW,CAACE,IAAZ,kBAx/B8FvX,EAw/B9F;EAAA,WAAkI,CAAC4U,YAAD,CAAlI;EAAA,UAA4J,CAACtS,YAAD,EAAeV,kBAAf,CAA5J;AAAA;;AACA;EAAA,mDAz/B8F5B,EAy/B9F,mBAA4FqX,WAA5F,EAAqH,CAAC;IAC1G7N,IAAI,EAAE5I,QADoG;IAE1GwE,IAAI,EAAE,CAAC;MACCoS,YAAY,EAAE,CAACJ,gBAAD,CADf;MAECK,eAAe,EAAE,CAACL,gBAAD,CAFlB;MAGCM,OAAO,EAAE,CAACN,gBAAD,CAHV;MAICO,OAAO,EAAE,CAACrV,YAAD,EAAeV,kBAAf,CAJV;MAKCwS,SAAS,EAAE,CAACQ,YAAD;IALZ,CAAD;EAFoG,CAAD,CAArH;AAAA;AAWA;AACA;AACA;;;AAEA,SAASD,eAAT,EAA0BrE,cAA1B,EAA0C+G,WAA1C,EAAuDzC,YAAvD,EAAqEhO,KAArE"},"metadata":{},"sourceType":"module"}